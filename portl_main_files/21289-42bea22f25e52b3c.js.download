try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="6ae40ef8-188f-42f5-b7eb-2dd208fe8682",e._sentryDebugIdIdentifier="sentry-dbid-6ae40ef8-188f-42f5-b7eb-2dd208fe8682")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21289],{0x257a56b3:(e,t,n)=>{n.d(t,{ZT:()=>o,ie:()=>c,xs:()=>l});var a=n(0x24b0d7515),r=n(0xac309a83);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.Je)();return!!t&&t.getExperiment(e).get("enabled",!1)}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Je)();(0,a.TA)(i,e)}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.Je)(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i(e,t);(0,a.eI)(e,i,t,n)}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,r.Je)();return(0,a._x)(e,i,t)}},0xfcc9d76b:(e,t,n)=>{n.d(t,{BootstrapedStatsigProvider:()=>y,e:()=>w});var a=n(0x22102fd88),r=n(0x257a56b3),i=n(0x24b0d7515),o=n(0xac309a83);function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.Je)();return!!t&&t.checkGate(e)}var c=n(0x49fac030),u=n(0x86fe994e),s=n(0x78b33fbd),d=n(0xfc89b4a4),f=n(0x12c9046cd),v=n(0xa5acf583),g=n(0x14de19ae8),b=n(0x22062498b),p=n(0x16de7050c);let h=e=>"0"!==e&&"false"!==e&&("1"===e||"true"===e||null);var m=n(0xc6857cab);function y(e){let{children:t}=e,{statsig:n,activeOrganization:y,account:w}=(0,g.YL)(),{data:_}=(0,f.Sk)("/api/bootstrap/".concat(null==y?void 0:y.uuid,"/statsig?statsig_hashing_algorithm=djb2"),{queryKey:[c.Jz,null==y?void 0:y.uuid],enabled:!!y,staleTime:6e5,refetchOnWindowFocus:!0,meta:{noToast:!0}}),x=(0,d.useMemo)(()=>(function(e){let t=new p.LocalOverrideAdapter;if(!(0,b.B)(e))return t;for(let[e,n]of new URLSearchParams(window.location.search).entries()){let a=function(e){let t=e.match(/^statsig_(experiment|gate|config|layer)_(.+)$/);if(!t)return null;let[,n,a]=t;return{type:n,name:a}}(e);if(!a)continue;let{type:r,name:i}=a;switch(r){case"experiment":{let e=h(n);null!==e&&t.overrideExperiment(i,{enabled:e});break}case"gate":{let e=h(n);null!==e&&t.overrideGate(i,e);break}case"config":try{let e=JSON.parse(n);t.overrideDynamicConfig(i,e)}catch(e){}break;case"layer":try{let e=JSON.parse(n);t.overrideLayer(i,e)}catch(e){}}}return t})(w),[w]),W=(0,d.useMemo)(()=>{var e,t;let a=null!=(t=null!=(e=null==_?void 0:_.user)?e:null==n?void 0:n.user)?t:{};return w&&y&&(a.custom={...a.custom,...((e,t,n,a)=>{var r,i;let o=(0,u.bu)(t),l=(0,u.BZ)(t),c=e.memberships.find(e=>e.organization.uuid===t.uuid),s=null!=(r=null==c?void 0:c.seat_tier)?r:void 0;return{orgType:o,isPro:(0,u.q3)(o),isRaven:(0,u.YC)(o),ravenType:null!=(i=t.raven_type)?i:void 0,maxTier:l,seatTier:s,accountCreatedAt:Date.parse(e.created_at),regionCode:n||"",region:a||""}})(w,y)}),a},[_,n,w,y]),C=(0,d.useMemo)(()=>{var e,t;return y&&w?JSON.stringify(null!=(e=null==_?void 0:_.values)?e:{}):JSON.stringify(null!=(t=null==n?void 0:n.values)?t:{})},[w,y,null==_?void 0:_.values,null==n?void 0:n.values]),{statsigClientKey:N}=(0,v._r)(),R=(0,s.useClientBootstrapInit)(N,W,C,{environment:{tier:"production"},networkConfig:{api:"https://statsig.anthropic.com/v1/",preventAllNetworkTraffic:!!m.env.NEXT_PUBLIC_STATSIG_NO_NETWORK},disableLogging:!!m.env.NEXT_PUBLIC_STATSIG_NO_NETWORK,overrideAdapter:x});return(0,d.useEffect)(()=>{R.dataAdapter.setDataLegacy(C,W),R.updateUserSync(W)},[C,W,R]),(0,d.useEffect)(()=>{(0,o.JY)(R),(0,r.ZT)(R),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,o.Je)();(0,i.TA)(l,e)}(R)},[R]),(0,a.jsx)(s.StatsigProvider,{client:R,children:t})}function w(){let{activeOrganization:e}=(0,g.YL)(),{isPending:t}=(0,f.Sk)("/api/bootstrap/".concat(null==e?void 0:e.uuid,"/statsig?statsig_hashing_algorithm=djb2"),{queryKey:[c.Jz,null==e?void 0:e.uuid],enabled:!!e});return t}},0x1156b3bea:(e,t,n)=>{n.d(t,{NotificationListener:()=>L,hG:()=>I,Wo:()=>A});var a=n(0xf32c56dd),r=n(0x14de19ae8),i=n(0xac309a83),o=n(0x1bd175d8c),l=n(0x1d0eef17),c=n(0x253a5c787),u=n(0x17e91b9fd),s=n(0x994de5af),d=n(0xfc89b4a4),f=n(0x11af11324),v=n(0x152020469),g=n(0x18c3d05ea),b=n(0x1484204a3);let p=(0,v.w)("CiRhbnRocm9waWMvY2xhdWRlL3B1c2gvZW52ZWxvcGUucHJvdG8SFWFudGhyb3BpYy5jbGF1ZGUucHVzaCJfChVQdXNoT3BlcmF0aW9uRW52ZWxvcGUSDwoHc2VydmljZRgBIAEoCRIOCgZtZXRob2QYAiABKAkSJQoHcmVxdWVzdBgDIAEoCzIULmdvb2dsZS5wcm90b2J1Zi5BbnlC4wEKGWNvbS5hbnRocm9waWMuY2xhdWRlLnB1c2hCDUVudmVsb3BlUHJvdG9QAVpBZ2l0aHViLmNvbS9hbnRocm9waWNzL21vYmlsZS1hcHBzL2dvL3Byb3Rvcy9hbnRocm9waWMvY2xhdWRlL3B1c2iiAgNBQ1CqAhVBbnRocm9waWMuQ2xhdWRlLlB1c2jKAhVBbnRocm9waWNcQ2xhdWRlXFB1c2jiAiFBbnRocm9waWNcQ2xhdWRlXFB1c2hcR1BCTWV0YWRhdGHqAhdBbnRocm9waWM6OkNsYXVkZTo6UHVzaGIGcHJvdG8z",[b.f]),h=(0,g.Z)(p,0);var m=n(0x1206ff42e),y=n(0xd9133b1);let w=(0,v.w)("CiZhbnRocm9waWMvY2xhdWRlL3B1c2gvb3BlcmF0aW9ucy5wcm90bxIVYW50aHJvcGljLmNsYXVkZS5wdXNoItECCg9PcGVuQ2hhdFJlcXVlc3QSIgoMYWNjb3VudF91dWlkGAEgASgJUgxhY2NvdW50X3V1aWQSLAoRb3JnYW5pemF0aW9uX3V1aWQYAiABKAlSEW9yZ2FuaXphdGlvbl91dWlkEiwKEWNvbnZlcnNhdGlvbl91dWlkGAMgASgJUhFjb252ZXJzYXRpb25fdXVpZBJjChxzYW1wbGluZ19jb21wbGV0ZWRfdGltZXN0YW1wGAQgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcEgAUhxzYW1wbGluZ19jb21wbGV0ZWRfdGltZXN0YW1wiAEBEicKDG1lc3NhZ2VfdXVpZBgFIAEoCUgBUgxtZXNzYWdlX3V1aWSIAQFCHwodX3NhbXBsaW5nX2NvbXBsZXRlZF90aW1lc3RhbXBCDwoNX21lc3NhZ2VfdXVpZCKKAQoWT3BlbkNvZGVTZXNzaW9uUmVxdWVzdBIiCgxhY2NvdW50X3V1aWQYASABKAlSDGFjY291bnRfdXVpZBIsChFvcmdhbml6YXRpb25fdXVpZBgCIAEoCVIRb3JnYW5pemF0aW9uX3V1aWQSHgoKc2Vzc2lvbl9pZBgDIAEoCVIKc2Vzc2lvbl9pZDLFAQodTG9nZ2VkSW5QdXNoT3BlcmF0aW9uc1NlcnZpY2USSgoIT3BlbkNoYXQSJi5hbnRocm9waWMuY2xhdWRlLnB1c2guT3BlbkNoYXRSZXF1ZXN0GhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5ElgKD09wZW5Db2RlU2Vzc2lvbhItLmFudGhyb3BpYy5jbGF1ZGUucHVzaC5PcGVuQ29kZVNlc3Npb25SZXF1ZXN0GhYuZ29vZ2xlLnByb3RvYnVmLkVtcHR5QuUBChljb20uYW50aHJvcGljLmNsYXVkZS5wdXNoQg9PcGVyYXRpb25zUHJvdG9QAVpBZ2l0aHViLmNvbS9hbnRocm9waWNzL21vYmlsZS1hcHBzL2dvL3Byb3Rvcy9hbnRocm9waWMvY2xhdWRlL3B1c2iiAgNBQ1CqAhVBbnRocm9waWMuQ2xhdWRlLlB1c2jKAhVBbnRocm9waWNcQ2xhdWRlXFB1c2jiAiFBbnRocm9waWNcQ2xhdWRlXFB1c2hcR1BCTWV0YWRhdGHqAhdBbnRocm9waWM6OkNsYXVkZTo6UHVzaGIGcHJvdG8z",[m.t,y.i]),_=(0,g.Z)(w,0),x=(0,g.Z)(w,1);var W=n(0xe9217003),C=n(0x22ca84427),N=n(0x2082b2d4d);let R=(0,W.Iq)(w);function S(e){if(!e)return null;try{let t=(0,C.Rf)(h,JSON.parse(e),{registry:R});if(!t.request||!t.method)return null;switch(t.method){case"OpenChat":{let e=(0,N.rW)(t.request,_);if(null==e?void 0:e.conversationUuid){let t=e.conversationUuid;return{method:"OpenChat",targetUrl:"/chat/".concat(t)}}break}case"OpenCodeSession":{let e=(0,N.rW)(t.request,x);if(null==e?void 0:e.sessionId){let t=e.sessionId;return{method:"OpenCodeSession",targetUrl:"/code/".concat(t)}}}}return null}catch(e){return null}}var k=n(0xc6857cab);let B={apiKey:"AIzaSyDu88493oN_Xq4PNVr_x8GUZPZhe-byS4U",authDomain:"proj-scandium-production-5zhm.firebaseapp.com",projectId:"proj-scandium-production-5zhm",storageBucket:k.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"",messagingSenderId:"365066964946",appId:"1:365066964946:web:920eb01ec340c52cb8420b",measurementId:k.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||""},Z="BBn_zDr7ckBwzQe6Tdc1k6E0tSdrG64L2ddLR36jUkdaleKmAdfgt3ao93t-nib3n3oBaAtbd9KyoxHaUGJLEzU",A=()=>{let[e,t]=(0,d.useState)(()=>"Notification"in window?Notification.permission:"default");return(0,d.useEffect)(()=>{"Notification"in window&&t(Notification.permission)},[]),(0,l.M)("focus",()=>{"Notification"in window&&t(Notification.permission)}),e},T=async e=>{let{isClaudeElectronApp:t,onTokenReceived:n,track:a}=e;if(!("Notification"in window))return{success:!1,errorSource:"browser_or_permissions"};try{let e=await Notification.requestPermission();if(a&&a({event_key:"claudeai.notification.permission.result",permission:e}),"granted"!==e)return a&&a({event_key:"claudeai.notification.permission.result",permission:e}),{success:!1,errorSource:"browser_or_permissions"};{let e,a;if(t)return{success:!1,errorSource:"internal"};if(e=0===(0,u.Dk)().length?(0,u.Wp)(B):(0,u.Sx)(),!await (0,s.TT)())return{success:!1,errorSource:"firebase"};try{a=(0,s.dG)(e)}catch(e){return{success:!1,errorSource:"firebase"}}let r=(await navigator.serviceWorker.getRegistrations()).find(e=>{var t;return null==(t=e.active)?void 0:t.scriptURL.includes("firebase-messaging-sw.js")});if(!r&&1)try{r=await navigator.serviceWorker.register("/firebase-messaging-sw.js"),await navigator.serviceWorker.ready}catch(e){(0,c.Cp)(e,{tags:{action:"registerServiceWorker"}})}try{let e=await (0,s.gf)(a,{vapidKey:Z,serviceWorkerRegistration:r});if(e)n(e);else throw(0,c.Cp)(Error("FCM token is null"),{tags:{action:"getToken"}}),Error("FCM token is null")}catch(e){throw(0,c.Cp)(e,{tags:{action:"getToken"}}),e}}return{success:!0}}catch(e){return(0,c.Cp)(e,{tags:{action:"requestPermission"}}),{success:!1,errorSource:"internal"}}},I=()=>{let{track:e}=(0,a.st)(),{mutate:t}=(0,f.E)(),n=(0,o.V)();return(0,d.useCallback)(async()=>(e({event_key:"claudeai.notification.permission.request_started"}),await T({isClaudeElectronApp:n,onTokenReceived:e=>{t({channel_type:f.zZ.FCM,registration_token:e,client_app_name:"claude-ai-web"})},track:e})),[t,n,e])},L=()=>{let e=(0,d.useRef)(null),{account:t}=(0,r.YL)(),{mutate:n}=(0,f.E)(),l=(0,o.V)(),v=(0,i.fS)("claudeai_skip_foreground_notifications"),{track:g}=(0,a.st)(),b=async()=>{let t;if(t=0===(0,u.Dk)().length?(0,u.Wp)(B):(0,u.Sx)(),!await (0,s.TT)())return{app:null,messaging:null};if(e.current)return{app:t,messaging:e.current};let n=(0,s.dG)(t);return e.current=n,{app:t,messaging:n}},p=async e=>{try{return await (0,s.gf)(e,{vapidKey:Z})}catch(e){return(0,c.Cp)(e,{tags:{action:"getFCMToken"}}),null}},h=(0,d.useCallback)(e=>{n({channel_type:f.zZ.FCM,registration_token:e,client_app_name:"claude-ai-web"})},[n]);return(0,d.useEffect)(()=>{var e;let t=!0,n=null;(async()=>{if(!l&&"Notification"in window&&"granted"===Notification.permission)try{let{messaging:e}=await b();if(!e||!t)return;let a=await p(e);a&&t&&h(a),n=(0,s.xD)(e,e=>{var t,n,a;if(v)return;if((null==(t=e.data)?void 0:t.notification_feature_category)==="completion"){let t=S(e.data.payload);if((null==t?void 0:t.targetUrl)&&window.location.pathname.includes(t.targetUrl))return;navigator.serviceWorker.getRegistrations().then(t=>{let n=t.find(e=>{var t;return null==(t=e.active)?void 0:t.scriptURL.includes("firebase-messaging-sw.js")});(null==n?void 0:n.active)&&n.active.postMessage({type:"SHOW_COMPLETION_NOTIFICATION",payload:e.data})});return}let r=(null==(n=e.data)?void 0:n.title)||"Claude",i={body:null==(a=e.data)?void 0:a.body,icon:"/favicon.svg",badge:"/favicon.svg",data:e.data},o=new Notification(r,i);o.onclick=()=>{var t,n;window.focus(),o.close();let a="/";if(null==(t=e.data)?void 0:t.payload){let t=S(e.data.payload);t&&(a=t.targetUrl)}g({event_key:"claudeai.notification.clicked",category:(null==(n=e.data)?void 0:n.notification_feature_category)||"unknown",target_url:a,location:"foreground"}),window.location.href=a}})}catch(e){(0,c.Cp)(e,{tags:{action:"setupNotifications"}})}})();let a=e=>{let t=e.data;(null==t?void 0:t.type)==="TRACK_NOTIFICATION_CLICK"&&g({event_key:"claudeai.notification.clicked",category:t.category||"unknown",target_url:t.targetUrl,location:t.location||"background"}),(null==t?void 0:t.type)==="NOTIFICATION_CLICK_NAVIGATE"&&(null==t?void 0:t.targetUrl)&&(window.location.href=t.targetUrl),(null==t?void 0:t.type)==="GET_CURRENT_URL"&&(null==t?void 0:t.requestId)&&e.source&&e.source.postMessage({type:"CURRENT_URL_RESPONSE",requestId:t.requestId,url:window.location.href})};return null==(e=navigator.serviceWorker)||e.addEventListener("message",a),()=>{var e;t=!1,n&&n(),null==(e=navigator.serviceWorker)||e.removeEventListener("message",a)}},[t,l,v,g,h]),null}},0x11af11324:(e,t,n)=>{n.d(t,{E:()=>d,Hg:()=>u,KG:()=>f,Lr:()=>b,ZH:()=>g,gT:()=>s,zZ:()=>c});var a=n(0x12c9046cd),r=n(0x14de19ae8),i=n(0x17e725145),o=n(0xfc89b4a4);let l="notificationPreferences";var c=function(e){return e.FCM="FCM",e.APNS="APNS",e}({});let u=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(t,"/notification/preferences"),{queryKey:[l,{orgUuid:t}],enabled:!!t})},s=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid,n=(0,i.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(t,"/notification/preferences"),"PUT",{onSuccess:()=>{n.invalidateQueries({queryKey:[l,{orgUuid:t}]})}})},d=()=>{let{activeOrganization:e}=(0,r.YL)(),t=null==e?void 0:e.uuid,n=(0,i.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(t,"/notification/channels"),"POST",{onSuccess:()=>{n.invalidateQueries({queryKey:["notificationChannels",{orgUuid:t}]})},meta:{noToast:!0}})},f=e=>{var t,n,a;let{data:r}=u();return(null==r||null==(a=r.preferences)||null==(n=a.feature_preference)||null==(t=n[e])?void 0:t.enable_push)===!0},v=["bogosort","compass","completion"],g=()=>{var e;let{data:t}=u(),n=null!=(e=null==t?void 0:t.preferences.feature_preference)?e:{};return v.every(e=>{let t=n[e];return(null==t?void 0:t.enable_push)===!0})},b=()=>{let{data:e}=u(),{mutateAsync:t}=s();return(0,o.useCallback)(async n=>{let a=(null==e?void 0:e.preferences)||{},r={...a.feature_preference};for(let e of v){var i,o;r[e]={...r[e],enable_push:n,enable_email:null!=(o=null==(i=r[e])?void 0:i.enable_email)&&o}}await t({preferences:{...a,feature_preference:r}})},[e,t])}},0x120e6a4a3:(e,t,n)=>{n.d(t,{bl:()=>l});var a=n(0x597e433e),r=n(0x56ac793a),i=n(0xfd34bc37);function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"quick_entry_image",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=atob(e),o=new Uint8Array(i.length);for(let e=0;e<i.length;e++)o[e]=i.charCodeAt(e);let l=r||a._F[t]||"png";return new File([o],"".concat(n,".").concat(l),{type:t})}async function l(e,t,n,l,c){let u=c?c.split(".")[0]:c,s=c?c.split(".")[1]:c;if(u&&s){let l=o(e,t,u,s),c={orgUuid:n,projectUuid:void 0,conversationUuid:i.T.current,modelConfig:{image_in:!0,pdf_in:!0},featureGates:{janus_claude_ai:!0,ooc_attachments:!0,use_canvas_resize:!0,wiggleEnabled:!0},limits:a.XA};return[await (0,r.gs)(l,c)]}let d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"quick_entry_image",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=o(e,t,n,a),i=new FormData;return i.append("file",r),i}(e,t,u,s),f=await l("/api/".concat(n,"/upload"),{method:"POST",body:d});if(f.ok)return[await f.json()];throw Error("Failed to upload image: ".concat(f.status," ").concat(f.statusText))}},0x1809b01ca:(e,t,n)=>{n.d(t,{E:()=>y,I:()=>m});var a=n(0x628a9a0b),r=n(0xf32c56dd),i=n(0x14de19ae8),o=n(0xefe6388f),l=n(0x49fac030),c=n(0xac309a83),u=n(0x17e725145),s=n(0x37cf97f9),d=n.n(s),f=n(0x4d348f95),v=n(0xfc89b4a4),g=n(0x1f150de5e),b=n(0xfd34bc37);let p=["cached_stream"];function h(e){let t=new URLSearchParams(window.location.search),n=new URLSearchParams;for(let e of p){let a=t.get(e);null!==a&&n.set(e,a)}let a=n.toString();return""!==a?"".concat(e,"?").concat(a):e}let m=()=>{let e="new-conversation-params-for-navigation",t=(0,o.d)("pipit"),n=(0,u.useQueryClient)(),a=(0,v.useCallback)(()=>{let n=t.getItem(e);if(!n)return{};try{let e=JSON.parse(n);return d()(e,e=>Date.now()-e.created_at<6e4)}catch(n){t.removeItem(e)}return{}},[t]);return{prepareNewConversation:(0,v.useCallback)((r,i)=>{let o={created_at:Date.now(),...i};n.setQueryData([e,r],o);let l=a();l[r]=o,t.setItem(e,JSON.stringify(l))},[n,a,t]),getCreateParamsForConvo:(0,v.useCallback)(r=>{let i=a(),o=n.getQueryData([e,r])||i[r];n.removeQueries({queryKey:[e,r]});let l=d()(i,(e,t)=>t!==r);return t.setItem(e,JSON.stringify(l)),o},[n,a,t])}};function y(){var e;let{setTemporaryConversationUuid:t,chatRoutePrefix:n="/chat"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,r.st)(),{data:s}=(0,a.Fn)(),{mutateAsync:d}=(0,a.CW)(),[p,y]=(0,b.d)(),{prepareNewConversation:w}=m(),{account:_,activeOrganization:x}=(0,i.YL)(),W=(0,u.useQueryClient)(),{setCompletionStatus:C}=(0,g.U)(p,!0),N=(0,f.useRouter)(),R=(0,c.fS)("claudeai_inline_conversation_creation");return(0,v.useCallback)(async e=>{var r;let{model:i,project_uuid:c,include_conversation_preferences:u,paprika_mode:f,compass_mode:v,create_mode:g,name:b,is_temporary:m}=e,S={name:null!=b?b:"",model:i,project_uuid:c,include_conversation_preferences:u,paprika_mode:f,compass_mode:v,create_mode:g,is_temporary:m};if(w(p,{...e,...R&&{inlineCreateConversationParams:S}}),R){if(null==x?void 0:x.uuid){let e=x.uuid;W.setQueryData([l.fC,{orgUuid:e},{uuid:p},{returnDanglingHumanMessage:!1}],{uuid:p,name:null!=b?b:"",model:i,project_uuid:c,is_temporary:m,...(0,a.ou)()})}}else await d({uuid:p,...S});if((e.prompt||e.attachments.length>0||e.files.length>0||e.syncSources.length>0)&&C(!0),m)null==t||t(p);else if((null==_||null==(r=_.settings)?void 0:r.has_finished_claudeai_onboarding)===!1){let e=h("".concat(n,"/").concat(p)),t=new URLSearchParams;t.append("returnTo",e);let a="/onboarding?".concat(t.toString());N.push(a)}else{let e=h("".concat(n,"/").concat(p));N.push(e)}return y(),(null==s?void 0:s.is_first_conversation)&&await o.track({event_key:"chat.conversation.first_conversation_created",surface:"claude.ai"}),{uuid:p}},[d,p,y,s,o,N,w,null==_||null==(e=_.settings)?void 0:e.has_finished_claudeai_onboarding,t,C,R,null==x?void 0:x.uuid,W,n])}}}]);