try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="aa610ab4-d1c6-44ab-9e79-38d6615b7706",e._sentryDebugIdIdentifier="sentry-dbid-aa610ab4-d1c6-44ab-9e79-38d6615b7706")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39411],{0x1381f2bb:(e,t,o)=>{o.d(t,{O:()=>a});var r=o(0x22102fd88),n=o(0x1a1f6dda6);let a=e=>{let{size:t=20,borderRadius:o=.27*t,className:a,children:l}=e;return(0,r.jsx)("div",{style:{width:t,height:t,borderRadius:o},className:(0,n.A)("shrink-0 bg-bg-000 border-border-300 border-0.5 shadow-sm flex items-center justify-center",a),children:l})}},0x4d9fc74e:(e,t,o)=>{o.d(t,{DO:()=>u,N7:()=>i,QD:()=>m,hV:()=>d,sg:()=>c});var r=o(0xf32c56dd),n=o(0x14de19ae8),a=o(0x1bd175d8c),l=o(0x4d348f95),s=o(0x21fe74567);let i="mcp-auth-complete",c="mcp-auth-channel";function u(e,t){if("undefined"!=typeof BroadcastChannel)try{let o=new BroadcastChannel(c);o.postMessage({type:i,serverId:e,step:t}),o.close()}catch(e){}}function d(){var e;let{activeOrganization:t}=(0,n.YL)(),o=null!=(e=null==t?void 0:t.uuid)?e:"";return(e,t)=>"/api/organizations/".concat(o,"/mcp/start-auth/").concat(e,"?redirect_url=").concat(encodeURIComponent(t),"&open_in_browser=1")}let m=function(){let{pathname:e,queryString:t="",source:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,l.usePathname)(),i=(0,l.useSearchParams)(),c=(0,a.V)(),{track:u}=(0,r.st)(),m=d(),f="".concat((0,s.d)({pathname:e||n,searchParams:i,queryString:t,shouldOpenInClaudeApp:c}));return e=>{let{uuid:t,url:r}=e;u({event_key:"claudeai.mcp.auth.init",uuid:t,url:r,source:o}),window.location.href=m(t,f)}}},0x6f6d4bd7:(e,t,o)=>{o.d(t,{HQ:()=>S,PY:()=>x,Tz:()=>y,U2:()=>f,UT:()=>m,_c:()=>g,lU:()=>h,qO:()=>d});var r=o(0x18e5c6e75),n=o(0x253a5c787),a=o(0x15b8dbfeb),l=o.n(a),s=o(0x156c4e43b),i=o(0x1dafb1ccf),c=o(0xbb751ecb);let u=e=>e.replace(/_/g," ").replace(/^\w/,e=>e.toUpperCase());async function d(e,t,o){try{return(await t.listTools({},{timeout:5e3})).tools.map(e=>o?(0,r.M)(e):e).map(t=>{var o,r,n;return{...t,displayName:u(t.title||(null==(o=t.annotations)?void 0:o.title)||t.name),enabledKey:(r=e,n=t.name,"".concat(r,":").concat(n)),alwaysApprovedKey:""}}).map(e=>({...e,alwaysApprovedKey:function(e){let t=e.enabledKey,o=e.description||"",r=function(e){var t;let o=Object.entries((null==(t=e.inputSchema)?void 0:t.properties)||{}),r=[];for(let[e,t]of o){let{data:o}=p.safeParse(t),n=(null==o?void 0:o.description)||"";r.push([e,n])}return r.sort((e,t)=>e[0].localeCompare(t[0])).flat().join(",")}(e),n=l().createHash("md5").update("".concat(o,":").concat(r)).digest("hex");return"".concat(t,"-").concat(n)}(e)}))}catch(t){return(0,n.Cp)(t,{tags:{action:"listTools",serverUuid:e}}),[]}}async function m(e,t){try{var o;if(!(null==(o=t.getServerCapabilities())?void 0:o.prompts))return[];return(await t.listPrompts({},{timeout:5e3})).prompts.map(e=>({...e,displayName:u(e.title||e.name)}))}catch(t){return(0,n.Cp)(t,{tags:{action:"listPrompts",serverUuid:e}}),[]}}async function f(e,t){try{var o;if(!(null==(o=t.getServerCapabilities())?void 0:o.resources))return[];return(await t.listResources({},{timeout:5e3})).resources.map(e=>({...e,displayName:u(e.title||e.name)}))}catch(t){return(0,n.Cp)(t,{tags:{action:"listResources",serverUuid:e}}),[]}}let p=s.Ik({description:s.Yj().optional(),type:s.Yj().optional(),title:s.Yj().optional()}).optional();function g(e,t){if(e.url){var o;return e.url.replace(/\/$/,"")===(null!=(o=null==t?void 0:t.replace(/\/$/,""))?o:"")}if(e.urlRegex){let o=new RegExp(e.urlRegex);return!!t&&o.test(t)}return!1}function h(e,t){if(e.startsWith("local:")){let o=e.slice(6),r=t.dxts[o];return!r||(0,c.Z)(r.id)}return!t.remoteDirectories[e]}let v=["7d4b2f9a-3c8e-4a5f-b6d1-8e7c4a9f2b3d",i.eG],b=["elicitationServer","exampleServer"];function S(e,t,o,r){return"remote"===t?e.formatMessage({defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(null==r?void 0:r.startsWith("local.unpacked."))?e.formatMessage({defaultMessage:"LOCAL UNPACKED",id:"ThUmMxykCs"}):(null==r?void 0:r.startsWith("local.dxt"))?e.formatMessage({defaultMessage:"LOCAL MCPB",id:"YcedjKsPiF"}):r?e.formatMessage({defaultMessage:"DESKTOP",id:"PSrLJoAtCY"}):v.includes(o)?e.formatMessage({defaultMessage:"INCLUDED",id:"OAfuZpKlBY"}):b.includes(o)?e.formatMessage({defaultMessage:"DEMO",id:"rFjCvt98HU"}):e.formatMessage({defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})}let x={[i.cN]:"/images/crochet/browser.png"},C=new Set(Object.values(x)),y=e=>!!(e&&C.has(e))},0x8475f78a:(e,t,o)=>{o.d(t,{Ds:()=>u,Ic:()=>a,RK:()=>l,U6:()=>c});var r=o(0xac309a83),n=o(0x156c4e43b);let a=e=>"".concat(e,"-wrapped"),l=n.Ik({isConnected:n.zM(),hasPromptsOrResources:n.zM().optional(),expiration:n.ai()}),s="mcp-remote-connectors-state";function i(e,t){var o,n,a;if(!(null==(o=(0,r.Je)())?void 0:o.checkGate("claudeai_mcp_local_cache")))return;let i=Date.now();try{let o=localStorage.getItem(s),r=o?JSON.parse(o):{},c="object"==typeof r&&null!==r?{...r}:{},u=l.safeParse(c[e]);c[e]={isConnected:null!=(n=t.isConnected)?n:!!u.success&&u.data.isConnected,hasPromptsOrResources:null!=(a=t.hasPromptsOrResources)?a:u.success?u.data.hasPromptsOrResources:void 0,expiration:i+864e5},localStorage.setItem(s,JSON.stringify(c))}catch(e){}}function c(){var e;if(!(null==(e=(0,r.Je)())?void 0:e.checkGate("claudeai_mcp_local_cache")))return{};try{let e=localStorage.getItem(s);if(!e)return{};let t=JSON.parse(e),o={},r=Date.now();if("object"==typeof t&&null!==t)for(let[e,n]of Object.entries(t)){let t=l.safeParse(n);t.success&&t.data.expiration>r&&(o[e]=t.data)}return o}catch(e){return{}}}let u=e=>({remoteServers:{},remoteConnectionStates:{},remoteClients:{},remoteTools:{},remotePrompts:{},remoteResources:{},remoteDirectories:{},remoteIsLoading:!1,remoteHasBootstrapped:!1,addRemoteServer:t=>e(e=>({remoteServers:{...e.remoteServers,[t.uuid]:t},remoteConnectionStates:{...e.remoteConnectionStates,[t.uuid]:{isConnected:!1,isConnecting:!0,usedAuthentication:!1}}})),setRemoteServerConnected:(t,o)=>e(e=>(i(t,{isConnected:!0}),{...e,remoteConnectionStates:{...e.remoteConnectionStates,[t]:{isConnected:!0,isConnecting:!1,usedAuthentication:o}}})),setRemoteClient:(t,o)=>e(e=>({remoteClients:{...e.remoteClients,[t]:o}})),disconnectRemoteServer:t=>e(e=>{let{[t]:o,[a(t)]:r,...n}=e.remoteClients;i(t,{isConnected:!1});let{[t]:l,...s}=e.remoteTools,{[t]:c,...u}=e.remotePrompts,{[t]:d,...m}=e.remoteResources;return{...e,remoteConnectionStates:{...e.remoteConnectionStates,[t]:{isConnected:!1,isConnecting:!1,usedAuthentication:!1}},remoteClients:n,remoteTools:s,remotePrompts:u,remoteResources:m}}),removeRemoteServer:t=>e(e=>{let{[t]:o,...r}=e.remoteServers,{[t]:n,...l}=e.remoteConnectionStates,{[t]:s,[a(t)]:i,...c}=e.remoteClients,{[t]:u,...d}=e.remoteTools,{[t]:m,...f}=e.remotePrompts,{[t]:p,...g}=e.remoteResources,{[t]:h,...v}=e.remoteDirectories;return{...e,remoteServers:r,remoteConnectionStates:l,remoteClients:c,remoteTools:d,remotePrompts:f,remoteResources:g,remoteDirectories:v}}),setRemoteTools:(t,o)=>e(e=>({remoteTools:{...e.remoteTools,[t]:o}})),setRemotePrompts:(t,o)=>e(e=>{var r;let n=null!=(r=e.remoteResources[t])?r:[];return i(t,{hasPromptsOrResources:o.length>0||n.length>0}),{remotePrompts:{...e.remotePrompts,[t]:o}}}),setRemoteResources:(t,o)=>e(e=>{var r;let n=(null!=(r=e.remotePrompts[t])?r:[]).length>0||o.length>0;return i(t,{hasPromptsOrResources:n}),{remoteResources:{...e.remoteResources,[t]:o}}}),setRemoteDirectory:(t,o)=>e(e=>({remoteDirectories:o?{...e.remoteDirectories,[t]:o}:e.remoteDirectories})),setRemoteIsLoading:t=>e({remoteIsLoading:t}),setRemoteHasBootstrapped:t=>e({remoteHasBootstrapped:t}),setRequiresWebSocket:(t,o)=>e(e=>{let r=e.remoteConnectionStates[t];return r?{...e,remoteConnectionStates:{...e.remoteConnectionStates,[t]:{...r,requiresWebSocket:o}}}:e})})},0xbb751ecb:(e,t,o)=>{o.d(t,{Z:()=>r});function r(e){return e.startsWith("local.dxt")||e.startsWith("local.unpacked")}},0xe824fb1c:(e,t,o)=>{o.d(t,{rD:()=>C,nd:()=>h,s$:()=>v,eZ:()=>f,Ug:()=>R,pK:()=>G,KU:()=>F,_b:()=>J,OT:()=>S,dY:()=>L,Jy:()=>x,et:()=>p,HQ:()=>d.HQ,i7:()=>V,xk:()=>g,lU:()=>d.lU,pH:()=>_,H:()=>A,eg:()=>T,jh:()=>k,yt:()=>U,kU:()=>W,BG:()=>$,zC:()=>H,fR:()=>N,kc:()=>O,I3:()=>E,IT:()=>j,pZ:()=>P,k$:()=>D,aF:()=>M,n3:()=>y,MR:()=>I,QO:()=>w,HG:()=>b,qT:()=>Q,Ak:()=>q,Uz:()=>B,Q1:()=>Y});var r=o(0x134b9be24),n=o(0xfc89b4a4),a=o(0x394ef833),l=o(0x16784b660),s=o(0x107838ca5),i=o(0x1dafb1ccf),c=o(0x1c9feff0c),u=o(0x8475f78a),d=o(0x6f6d4bd7);function m(e,t){return(null==t?void 0:t.manifest.icon)?(0,c.C)(t.manifest.icon,t.path):d.PY[e]}let f=(0,a.v)()((0,l.eh)(function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return{...(e=>({localClients:{},localTools:{},localPrompts:{},localResources:{},dxts:{},localIsLoading:!1,setLocalClient:(t,o,r)=>e(e=>({localClients:{...e.localClients,[t]:{uuid:null!=r?r:t,client:o}}})),removeLocalServer:t=>e(e=>{let{[t]:o,...r}=e.localClients,{[t]:n,...a}=e.localTools,{[t]:l,...s}=e.localPrompts,{[t]:i,...c}=e.localResources,{[t]:u,...d}=e.dxts;return{localClients:r,localTools:a,localPrompts:s,localResources:c,dxts:d}}),setLocalTools:(t,o)=>e(e=>({localTools:{...e.localTools,[t]:o}})),setLocalPrompts:(t,o)=>e(e=>({localPrompts:{...e.localPrompts,[t]:o}})),setLocalResources:(t,o)=>e(e=>({localResources:{...e.localResources,[t]:o}})),setDxt:(t,o)=>e(e=>({dxts:{...e.dxts,[t]:o}})),setLocalIsLoading:t=>e({localIsLoading:t})}))(...t),...(0,u.Ds)(...t)}})),p=e=>f.getState().remoteServers[e],g=async e=>f.getState().remoteClients[(0,u.Ic)(e)],h=e=>void 0===f.getState().remoteServers[e],v=e=>void 0===f.getState().remoteConnectionStates[e],b=(e,t)=>{let o=f.getState();return!t||(0,u.Ic)(e)in o.remoteClients},S=e=>{let t=f.getState();for(let[c,u]of Object.entries(t.remoteServers)){let d=t.remoteDirectories[c];if((null==d?void 0:d.uuid)===e){var o,r,n,a,l,s,i;let e=t.remoteConnectionStates[c];return{name:u.name,uuid:u.uuid,type:"remote",url:u.url,custom_oauth_client_id:u.custom_oauth_client_id,custom_oauth_client_secret:u.custom_oauth_client_secret,iconType:"favicon",iconSrc:null!=(o=null==d?void 0:d.iconUrl)?o:u.url,isConnected:null!=(r=null==e?void 0:e.isConnected)&&r,isConnecting:null!=(n=null==e?void 0:e.isConnecting)&&n,usedAuthentication:null!=(a=null==e?void 0:e.usedAuthentication)&&a,tools:null!=(l=t.remoteTools[c])?l:[],prompts:null!=(s=t.remotePrompts[c])?s:[],resources:null!=(i=t.remoteResources[c])?i:[],directoryMetadata:d}}}};function x(e){let t=f.getState(),o=[];for(let[n,a]of Object.entries(t.remoteServers)){var r;if(!a)continue;let l=t.remoteConnectionStates[n];if((null==l?void 0:l.isConnected)!==!0)continue;let s=null!=(r=t.remoteTools[n])?r:[];if(0===s.length)continue;let i=s.filter(t=>(null==e?void 0:e[t.enabledKey])!==!1);0!==i.length&&o.push({uuid:n,name:a.name,tools:i.map(e=>{var t;return{name:e.name,description:e.description,inputSchema:null!=(t=e.inputSchema)?t:{}}})})}return o}let C=e=>f.getState().addRemoteServer(e),y=(e,t)=>f.getState().setRemoteServerConnected(e,t),_=e=>{var t;return(null==(t=f.getState().remoteConnectionStates[e])?void 0:t.isConnected)===!0},R=e=>f.getState().disconnectRemoteServer(e),T=e=>f.getState().removeRemoteServer(e),w=(e,t)=>f.getState().setRequiresWebSocket(e,t),O=(e,t)=>f.getState().setRemoteClient(e,t),P=e=>f.getState().setRemoteIsLoading(e),j=e=>f.getState().setRemoteHasBootstrapped(e),I=async(e,t,o)=>{let r=await (0,d.qO)(e,t,o);return f.getState().setRemoteTools(e,r),r},D=async(e,t)=>{let o=await (0,d.UT)(e,t);return f.getState().setRemotePrompts(e,o),o},M=async(e,t)=>{let o=await (0,d.U2)(e,t);return f.getState().setRemoteResources(e,o),o},E=(e,t,o)=>{f.getState().setRemoteDirectory(e,o.find(e=>(0,d._c)(e,t)))},L=e=>{for(let[,{uuid:t,client:o}]of Object.entries(f.getState().localClients))if(t===e)return o},k=(e,t,o)=>f.getState().setLocalClient(e,t,o),W=e=>f.getState().setLocalIsLoading(e),A=e=>f.getState().removeLocalServer(e),U=(e,t)=>f.getState().setDxt(e,t),z=e=>"local:".concat(e),N=async(e,t,o)=>{let r=await (0,d.qO)(z(e),t,o);return f.getState().setLocalTools(e,r),r},$=async(e,t)=>{let o=await (0,d.UT)(z(e),t);return f.getState().setLocalPrompts(e,o),o},H=async(e,t)=>{let o=await (0,d.U2)(z(e),t);return f.getState().setLocalResources(e,o),o};function K(e,t){for(let[i,c]of Object.entries(t)){var o,r,n,a,l,s;if(void 0!==c){if("hasTools"===i){if(((null==(o=e.tools)?void 0:o.length)||0)>0!==c)return!1}else if("hasPrompts"===i){if(((null==(r=e.prompts)?void 0:r.length)||0)>0!==c)return!1}else if("hasResources"===i){if(((null==(n=e.resources)?void 0:n.length)||0)>0!==c)return!1}else if("hasPromptsOrResources"===i){let t=((null==(a=e.prompts)?void 0:a.length)||0)>0,o=((null==(l=e.resources)?void 0:l.length)||0)>0;if((t||o)!==c)return!1}else if("directoryUuid"===i){if((null==(s=e.directoryMetadata)?void 0:s.uuid)!==c)return!1}else if(e[i]!==c)return!1}}return!0}let B=e=>{let t=f((0,s.k)(e=>({remoteServers:e.remoteServers,remoteConnectionStates:e.remoteConnectionStates,remoteTools:e.remoteTools,remotePrompts:e.remotePrompts,remoteResources:e.remoteResources,remoteDirectories:e.remoteDirectories,localClients:e.localClients,localTools:e.localTools,localPrompts:e.localPrompts,localResources:e.localResources,dxts:e.dxts})));return(0,n.useMemo)(()=>{var o,r,n,a,l,s,i;let c=[];for(let[l,s]of Object.entries(t.remoteServers)){if(!s)continue;let i=t.remoteDirectories[l],u={...s,uuid:l,type:"remote",iconType:"favicon",iconSrc:null!=(o=null==i?void 0:i.iconUrl)?o:s.url,directoryMetadata:i,...t.remoteConnectionStates[l],tools:null!=(r=t.remoteTools[l])?r:[],prompts:null!=(n=t.remotePrompts[l])?n:[],resources:null!=(a=t.remoteResources[l])?a:[],version:void 0};(!e||K(u,e))&&c.push(u)}c.sort((e,t)=>e.name.localeCompare(t.name));let u=[];for(let[o,r]of Object.entries(t.localClients)){if(!r)continue;let n=t.dxts[o],a={name:o,uuid:r.uuid,type:"local",iconType:"external",iconSrc:m(o,n),isConnected:!0,isConnecting:!1,usedAuthentication:!1,tools:null!=(l=t.localTools[o])?l:[],prompts:null!=(s=t.localPrompts[o])?s:[],resources:null!=(i=t.localResources[o])?i:[],localId:null==n?void 0:n.id};(!e||K(a,e))&&u.push(a)}return u.sort((e,t)=>e.name.localeCompare(t.name)),[...c,...u]},[t,e])},Y=()=>f(e=>e.remoteIsLoading||e.localIsLoading||!e.remoteHasBootstrapped),q=()=>{let e=f(e=>e.remoteClients),t=f(e=>e.remoteServers),o=f(e=>e.localClients),a=f(e=>e.dxts);return(0,n.useMemo)(()=>{let n=[],l=new Map;return Object.entries(e).forEach(e=>{let[o,a]=e;if(a instanceof r.K){var s;n.push(a);let e=t[o];l.set(a,{name:null!=(s=null==e?void 0:e.name)?s:o,iconType:"favicon",iconSrc:null==e?void 0:e.url})}}),Object.entries(o).forEach(e=>{let[t,o]=e;n.push(o.client);let r=a[t];l.set(o.client,{name:t,iconType:"external",iconSrc:m(t,r)})}),{clients:n,clientMetadata:l}},[e,t,o,a])},F=e=>{let t=f.getState(),o=L(e),r=t.remoteClients[e],n=o||r;if(!n)throw Error("Client not found for connector ".concat(e));if(n instanceof Promise)throw Error("Client for connector ".concat(e," is still connecting"));return n},G=e=>{var t,o,r;let n=f.getState();for(let[r,a]of Object.entries(n.remoteServers)){let l=null!=(o=null==(t=n.remoteTools[r])?void 0:t.find(t=>"".concat(a.name,":").concat(t.name)===e))?o:void 0;if(l)return{tool:l,server:{uuid:r,name:a.name,url:a.url,type:"remote",iconType:"favicon",iconSrc:a.url}}}for(let[t,o]of Object.entries(n.localTools)){let a=null!=(r=o.find(o=>"".concat(t,":").concat(o.name)===e))?r:void 0,l=n.localClients[t],s=n.dxts[t],i=m(t,s);if(a&&l)return{tool:a,server:{uuid:l.uuid,name:t,type:"local",iconType:"external",iconSrc:i}}}},Q=e=>Object.values(f.getState().remoteTools).flat().find(t=>t.name===e)||Object.values(f.getState().localTools).flat().find(t=>t.name===e),J=(e,t,o,r)=>{let n=f.getState(),a=[];for(let[r,l]of Object.entries(n.remoteTools)){let s=n.remoteServers[r];s&&l.filter(e=>(null==t?void 0:t[e.enabledKey])!==!1).forEach(t=>{var n,l;let i;o&&(i=o(s,t).approvalRequired),a.push({name:t.name,description:null!=(l=t.description)?l:"",input_schema:t.inputSchema,integration_name:s.name,mcp_server_uuid:s.uuid,mcp_server_url:s.url,needs_approval:i,backend_execution:!b(r,e),read_only_hint:null==(n=t.annotations)?void 0:n.readOnlyHint})})}for(let[e,o]of Object.entries(n.localTools)){let n=(0,i.Xf)({name:e},r);n.isDisabled||o.filter(e=>(0,i.GE)(e.enabledKey,t,n.isChromeExt)).forEach(t=>{var o;a.push({name:t.name,description:null!=(o=t.description)?o:t.name,input_schema:t.inputSchema,integration_name:e})})}return a},V=(e,t)=>{let o=f.getState(),r=[];for(let[n,a]of Object.entries(o.remoteTools)){let l=o.remoteServers[n];l&&a.forEach(o=>{var n,a;let s;s=(null==e?void 0:e[o.enabledKey])===!1?"always_deny":t(l,o).approvalRequired?void 0:"always_allow",r.push({name:o.name,description:null!=(a=o.description)?a:"",input_schema:o.inputSchema,integration_name:l.name,mcp_server_uuid:l.uuid,mcp_server_url:l.url,permission_policy:s,read_only_hint:null==(n=o.annotations)?void 0:n.readOnlyHint})})}return r}},0x1037073d3:(e,t,o)=>{o.d(t,{z:()=>m});var r=o(0x22102fd88),n=o(0x6f6d4bd7),a=o(0x1381f2bb),l=o(0x303b360c),s=o(0x1fec22234),i=o(0x1d0c32e96),c=o(0x22459cb4e),u=o(0x1a1f6dda6),d=o(0xcaa21d58);let m=e=>{let{size:t,imageSize:o,name:m="",className:f,fallbackToGlobe:p,type:g,src:h}=e,v=!o,b=null!=o?o:t,S=p?void 0:(0,r.jsx)(l.B,{letter:m||"?",size:b,hideBorder:!v}),x=e=>(0,r.jsx)(a.O,{size:t,className:(0,u.A)(f,v&&"!border-0 !shadow-none !bg-transparent"),children:e});switch(g){case"favicon":return x((0,r.jsx)(s.d,{fadeInOnLoad:!0,url:h,size:b,fallbackSvg:S}));case"external":if(h&&(0,n.Tz)(h))return(0,r.jsx)(a.O,{size:t,className:f,children:(0,r.jsx)(d.default,{src:h,alt:"".concat(m," icon"),width:t,height:t,className:"object-cover rounded-[27%]"})});return x((0,r.jsx)(c.u,{style:{maxWidth:b,maxHeight:b},className:"object-contain",width:b,height:b,src:h||"",alt:"".concat(m," icon"),fallbackSvg:S,fadeInOnLoad:!0}));case"syncSource":return x((0,r.jsx)(i.A9,{type:h,size:b}));case"icon":return x((0,r.jsx)(c.o,{style:{maxWidth:b,maxHeight:b},className:"object-contain",width:b,height:b,src:h||"",alt:"".concat(m," icon"),fallbackSvg:S,fadeInOnLoad:!0}));default:return x(S)}}},0x1b58b00f5:(e,t,o)=>{o.d(t,{G:()=>s,g:()=>i});var r=o(0x12c9046cd),n=o(0x14de19ae8),a=o(0x49fac030),l=o(0xc1dd9efc);function s(){let{account:e,activeOrganization:t}=(0,n.YL)(),o=null==t?void 0:t.uuid,s=(0,n.mV)(),i=(0,l.yI)(e,t,l.Nt.OrganizationManage);return(0,r.Sk)("/api/organizations/".concat(o,"/browser_extension_settings"),{queryKey:[a.En,o],enabled:!!o&&s&&i})}function i(){var e;let{activeOrganization:t}=(0,n.YL)(),o=null==t?void 0:t.uuid,l=(0,n.mV)(),{data:s,isLoading:i}=(0,r.Sk)("/api/organizations/".concat(o,"/browser_extension_settings"),{queryKey:[a.En,o],enabled:!!o&&l});return!l||!i&&!!s&&null!=(e=s.enabled)&&e}},0x1c9feff0c:(e,t,o)=>{o.d(t,{B:()=>l,C:()=>s});var r=o(0x22102fd88),n=o(0x1037073d3);let a=e=>{let{icon:t,name:o,path:a,size:l=60,imageSize:i=.5*l,...c}=e,u=t?s(t,a):"";return(0,r.jsx)(n.z,{size:l,imageSize:i,type:"external",src:u,name:o,...c})},l=e=>{var t;let{extension:o,...n}=e;return(0,r.jsx)(a,{icon:o.manifest.icon,name:null!=(t=o.manifest.display_name)?t:o.manifest.name,path:o.path,...n})};function s(e,t){if(!e)return"";if(e.startsWith("data:"))return e;if(e.startsWith("https://"))return e.replace("https://","".concat("claude-image","://"));if(e.includes("://")||!t)return"";let o=t.replace(/\\/g,"/"),r=e.replace(/\\/g,"/"),n="".concat(o,"/").concat(r);return"file://".concat(n)}},0x1d0c32e96:(e,t,o)=>{o.d(t,{A9:()=>r.A9,HI:()=>r.HI,UF:()=>r.UF,ft:()=>r.ft,fx:()=>r.fx,kw:()=>r.kw});var r=o(0xda192b6c)},0x1dafb1ccf:(e,t,o)=>{o.d(t,{Ev:()=>y,GE:()=>x,LF:()=>_,Ns:()=>p,Qb:()=>f,VY:()=>v,Xf:()=>b,ZQ:()=>S,cN:()=>d,eG:()=>u,sw:()=>C});var r=o(0x1b58b00f5),n=o(0x239a8e4b4),a=o(0x14de19ae8),l=o(0x2252bfeb8),s=o(0xac309a83),i=o(0x78b33fbd),c=o(0xfc89b4a4);let u="a8f3c7e2-4b9d-4f1a-8c3e-9d2a5b7f8e1c",d="Claude in Chrome",m="Claude for Chrome",f="https://claude.ai/chrome",p=e=>{let{uuid:t,name:o}=e;return t?t===u:!!o&&(o===d||o===m)},g=e=>e.includes(":".concat(d,":"))||e.includes(":".concat(m,":")),h=["claude-haiku-4-5","claude-sonnet-4-5","claude-opus-4-5"],v=()=>{let{value:e}=(0,i.useDynamicConfig)("chrome_ext_models"),t=null==e?void 0:e.options;return(0,c.useMemo)(()=>{if(Array.isArray(t)){let e=t.map(e=>"string"==typeof e?e:e.model).filter(Boolean);if(e.length>0)return e}return h},[t])},b=function(e,t,o){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h;if(!p(e))return{isChromeExt:!1,disabledDueToModel:!1,disabledDueToSettings:!1,isDisabled:!1};let a=!t||!r.some(e=>t.startsWith(e)),l=!(null!=o?o:(0,n.DI)());return{isChromeExt:!0,disabledDueToModel:a,disabledDueToSettings:l,isDisabled:a||l}},S=(e,t)=>{let o=e?(e=>{let t={};for(let[o,r]of Object.entries(e))g(o)||(t[o]=r);return t})(e):{};return t?{...o,...t}:o},x=(e,t,o)=>{if(o&&!(0,n.DI)())return!1;if(!t)return!o;let r=t[e];return o?!0===r:!1!==r},C=(e,t,o)=>e.some(e=>x(e,t,o)),y=()=>{let e=(0,s.fS)("chrome_ext_mcp_integration"),t=(0,a.h0)(),o=(0,a.mV)(),n=(0,r.g)();return(!o||!0===n)&&e&&t},_=()=>{let[e,t]=(0,c.useState)(!1);return(0,c.useEffect)(()=>{var e,o;let r=e=>{t("chromeExtensionEnabled"in e)},n=null===l.W$||void 0===l.W$||null==(e=l.W$.getPreferences)?void 0:e.call(l.W$);return n&&n.then(r),null===l.W$||void 0===l.W$||null==(o=l.W$.onPreferencesChanged)?void 0:o.call(l.W$,r)},[]),e}},0x21fe74567:(e,t,o)=>{o.d(t,{d:()=>r});let r=e=>{let{pathname:t,searchParams:o,queryString:r,shouldOpenInClaudeApp:n}=e,a="".concat(t,"?").concat(r),l=o.get("origin");if(l)a=l;else if(n){let e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,o=t.startsWith("/project/")&&e.test(t.slice(9)),n=t.startsWith("/chat/")&&e.test(t.slice(6)),l=t.startsWith("/code"),s=t.startsWith("/claude-code-desktop"),i=t.startsWith("/settings"),c=o||n||l||s||i||"/new"===t?t:"/new";a="claude://claude.ai".concat(c,"?").concat(r)}return a}},0x239a8e4b4:(e,t,o)=>{let r;o.d(t,{$m:()=>u,DI:()=>c,yM:()=>i});var n=o(0x2252bfeb8);let a=(0,o(0x394ef833).v)(e=>({isEnabled:!1,isInitialized:!1,_setEnabled:t=>e({isEnabled:t}),_setInitialized:()=>e({isInitialized:!0})})),l=e=>{let{_setEnabled:t,_setInitialized:o}=a.getState();t(!0===e.chromeExtensionEnabled),o()},s=()=>{var e,t;let o=a.getState();if(o.isInitialized)return;let s=null===n.W$||void 0===n.W$||null==(e=n.W$.getPreferences)?void 0:e.call(n.W$);s?s.then(l):o._setInitialized(),r||(r=null===n.W$||void 0===n.W$||null==(t=n.W$.onPreferencesChanged)?void 0:t.call(n.W$,l))},i=()=>(s(),a(e=>e.isEnabled)),c=()=>(s(),a.getState().isEnabled),u=e=>{a.getState()._setEnabled(e)}}}]);