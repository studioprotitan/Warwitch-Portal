try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},i=(new e.Error).stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="af61380b-93cc-4ea9-9479-76fe510b1184",e._sentryDebugIdIdentifier="sentry-dbid-af61380b-93cc-4ea9-9479-76fe510b1184")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[74813],{0x32852e5d:(e,i,o)=>{o.d(i,{ConsentProvider:()=>p,S:()=>b});var a=o(0x22102fd88),n=o(0x24553dffe),s=o(0x253a5c787),r=o(0xfc89b4a4),t=o(0x23f1c451b),d=o(0x24407ccb5),l=o(0x20e00cddd),c=o(0x286b4261),_=o.n(c),u=o(0x224418731);let v={analytics:["ajs_anonymous_id","ajs_user_id","ajs_group_id","analytics_session_id","_ga","_gid","_gat",/^_gat_gtag_UA_.*$/,/^_ga_.*$/,/^_dc_gtm_.*$/,"__utma","__utmb","__utmc","__utmt","__utmz","__utmv","_gaexp","_gaexp_rc","_opt_expid","AMP_TOKEN","FPID","FPLC","TESTCOOKIESENABLED","li_giant","ln_or","oribi_cookie_test","oribili_user_guid"],marketing:["_fbc","_fbp","__gads","__gpi","__gpi_optout","__gsas","_gcl_aw","_gcl_dc","_gcl_au","_gcl_gb","_gcl_gf","_gcl_ha","_gcl_gs","_gcl_ag",/^_gac_.*$/,/^_gac_gb_.*$/,"GCL_AW_P","GED_PLAYLIST_ACTIVITY","ACLK_DATA","FLC","_opt_awcid","_opt_awmid","_opt_awgid","_opt_awkid","_opt_utmc","FPAU","FPGCLDC","FPGCLAW","FPGCLGB","FPGSID","FCCDCF","FCNEC","li_fat_id","ar_debug","_ttclid","_rdt_uuid"]};function m(e){if("undefined"==typeof document)return;let i="undefined"==typeof document?[]:document.cookie.split(";").map(e=>e.split("=")[0].trim());Object.keys(v).forEach(o=>{e[o]||v[o].forEach(e=>{i.forEach(i=>{(e instanceof RegExp?e.test(i):i===e)&&n.m.delete(i)})})})}let g=(0,r.createContext)({showConsentBanner:!1,openConsentBanner:_(),preferences:u.ok,savePreferences:_(),requiresExplicitConsent:!1,gpcStatus:{detected:!1,source:"none"}}),p=e=>{let{children:i,requiresExplicitConsent:o,gpcDetected:c}=e,_=(0,r.useMemo)(()=>c?{detected:!0,source:"header"}:{detected:!1,source:"none"},[c]),[v,p,b]=function(e,i){let o=(0,n.l)(),[a,t]=(0,r.useState)(()=>!!o.get(e)),[d,l]=(0,r.useState)(()=>{try{let a=o.get(e);return a?JSON.parse(a):i}catch(o){return(0,s.Cp)(o,{extra:{message:"Malformed JSON cookie",cookieKey:e}}),i}});return[d,(0,r.useCallback)(i=>{o.set(e,JSON.stringify(i)),l(i),t(!0)},[o,e]),a]}(l.eT.CONSENT_PREFERENCES,o?u.ok:u.DX),f=c?u.ok:v,[k,h]=(0,r.useState)(o&&!b&&!c),y=(0,r.useCallback)(e=>{p(e),(0,t.up)(e),h(!1),d.h.updateCategories(e),m(e),e.marketing&&function(){if(n.m.get(l.eT.FBP))return;let e="fb.1.".concat(Date.now(),".").concat(Math.floor(9e16*Math.random())+1e16);n.m.set(l.eT.FBP,e,{maxAgeSeconds:63072e3})}()},[p,h]),w=(0,r.useRef)(!1);(0,r.useEffect)(()=>{c&&!w.current&&(w.current=!0,m(u.ok))},[c]);let x=(0,r.useCallback)(()=>{h(!0)},[]),E=(0,r.useMemo)(()=>({showConsentBanner:k,openConsentBanner:x,preferences:f,savePreferences:y,requiresExplicitConsent:o,gpcStatus:_}),[k,x,f,y,o,_]);return(0,a.jsx)(g.Provider,{value:E,children:i})};function b(){return(0,r.useContext)(g)}},0x812f771a:(e,i,o)=>{o.d(i,{H:()=>t});var a=o(0xa5acf583),n=o(0x32852e5d),s=o(0xfc89b4a4),r=o(0x24407ccb5);let t=()=>{let{segmentKey:e,segmentCdnHost:i,segmentApiHost:o}=(0,a._r)(),{requiresExplicitConsent:t,gpcStatus:d}=(0,n.S)(),l=(0,s.useCallback)(()=>{r.h.reset()},[]);return{analytics:r.h.loadIfNecessary({segmentKey:e,segmentCdnHost:i,segmentApiHost:o,requiresExplicitConsent:t,gpcDetected:d.detected}),reset:l}}},0x86fe994e:(e,i,o)=>{o.d(i,{BZ:()=>r,YC:()=>s,bu:()=>a,q3:()=>n});let a=e=>{let i=e.capabilities;if(i.includes("api")&&i.includes("chat"))return"unknown";if(i.includes("api"))return i.includes("api_individual")?"api_individual":"api_team";if(i.includes("chat")){if(i.includes("raven")){let i=e.raven_type;return i?"enterprise"===i?"claude_enterprise":"claude_team":"unknown"}return i.includes("claude_max")?"claude_max":i.includes("claude_pro")?"claude_pro":"claude_free"}return"unknown"},n=e=>"claude_pro"===e||"claude_max"===e,s=e=>"claude_team"===e||"claude_enterprise"===e,r=e=>"default_claude_max_5x"===e.rate_limit_tier?"5x":"default_claude_max_20x"===e.rate_limit_tier?"20x":void 0},0xe8b53191:(e,i,o)=>{o.d(i,{Z:()=>n});var a=o(0xac309a83);let n=()=>(0,a.fS)("claude_ai_segment_enabled")},0xf32c56dd:(e,i,o)=>{o.d(i,{d8:()=>E,f:()=>C,st:()=>x,ye:()=>w});var a=o(0x1016c6ed2),n=o(0x20e00cddd),s=o(0x11945df39),r=o(0x9845e38c),t=o(0x86fe994e),d=o(0xce46d1d7),l=o(0x4d348f95),c=o(0xfc89b4a4),_=o(0xac309a83),u=o(0xe8b53191),v=o(0x12c9046cd),m=o(0xa5acf583),g=o(0x32852e5d),p=o(0x24553dffe),b=o(0x14de19ae8),f=o(0x812f771a),k=o(0x145cd0369);let h={snippets_command_used:{version:1},file_upload_too_large:{version:1},sse_interrupted:{version:1},snippets_suggestion_selected:{version:1},payment_modal_open:{version:1},pro_waitlist_requested:{version:1},payment_state_poll_for_invoice:{version:1},payment_state_poll_for_payment:{version:1},payment_state_poll_for_capability:{version:1},payment_state_payment_requires_confirmation:{version:1},payment_state_payment_failed:{version:1},payment_state_success:{version:1},payment_state_timed_out:{version:1},"onboarding.pubsec_system_use.started":{version:1},"onboarding.phone_verification.start":{version:1},"onboarding.phone_verification.sent_code":{version:1},"onboarding.phone_verification.invalid_code":{version:1},"onboarding.phone_verification.verified_code":{version:1},"onboarding.age_verification.start":{version:1},"onboarding.age_verification.complete":{version:1},"onboarding.name_input.started":{version:1},"onboarding.name_input.finished":{version:1},"onboarding.acceptable_use.started":{version:1},"onboarding.acceptable_use.finished":{version:1},"onboarding.disclaimers.started":{version:1},"onboarding.disclaimers.finished":{version:1},"onboarding.started":{version:1},"onboarding.completed":{version:1},"extended_onboarding.started":{version:1},"extended_onboarding.disclaimer.completed":{version:1},"extended_onboarding.name_input.completed":{version:1},"extended_onboarding.work_function.completed":{version:1},"extended_onboarding.drive_integration.started":{version:1},"extended_onboarding.drive_integration.skipped":{version:1},"extended_onboarding.drive_integration.completed":{version:1},"extended_onboarding.gmail_integration.started":{version:1},"extended_onboarding.gmail_integration.skipped":{version:1},"extended_onboarding.gmail_integration.completed":{version:1},"extended_onboarding.gcal_integration.started":{version:1},"extended_onboarding.gcal_integration.skipped":{version:1},"extended_onboarding.gcal_integration.completed":{version:1},"extended_onboarding.topics.completed":{version:1},"extended_onboarding.example_prompts.completed":{version:1},"extended_onboarding.completed":{version:1},"extended_onboarding.hear_about.completed":{version:1},"extended_onboarding.hear_about.source_selected":{version:1},"extended_onboarding.hear_about.skipped":{version:1},"extended_onboarding.code_upgrade.completed":{version:1},"extended_onboarding.code_intro.completed":{version:1},"extended_onboarding.code_install.completed":{version:1},"claudeai.onboarding.guest_pass_install.completed":{version:1},"claudeai.onboarding.gift_redeem.completed":{version:1},"claudeai.onboarding.guest_pass_install.command_copied":{version:1},"claudeai.onboarding.guest_pass_install.documentation_clicked":{version:1},"claudeai.onboarding.guest_pass_install.link_clicked":{version:1},"pro_subscription.upgraded_to_annual":{version:1},"pro_subscription.upgraded_to_max":{version:1},"max_subscription.downgraded_to_max":{version:1},"max_subscription.downgraded_to_pro":{version:1},"chat.conversation.first_conversation_created":{version:1},"chat.conversation.token_limit_exceeded":{version:1},"chat.conversation.token_limit_will_exceed":{version:1},"chat.conversation.too_long_prompt:loaded":{version:1},"chat.conversation.too_long_prompt:accepted":{version:1},"chat.conversation.too_long_prompt:dismissed":{version:1},"chat.conversation.too_long_prompt_warning:loaded":{version:1},"chat.conversation.too_long_prompt_warning:accepted":{version:1},"chat.conversation.too_long_prompt_warning:dismissed":{version:1},"chat.conversation.after_completion_invalidation":{version:1},"chat.conversations.force_refresh":{version:1},"chat.conversations.invalidate":{version:1},"chat.messages.force_refresh":{version:1},"claudeai.chat.sync_message_loss":{version:1},"chat.share.button.clicked":{version:1},"chat.share.modal.share_button.clicked":{version:1},"chat.share.modal.unshare_button.clicked":{version:1},"chat.share.open_link.clicked":{version:1},"chat.share.copy_link.clicked":{version:1},"code.share.modal.share_button.clicked":{version:1},"code.share.modal.unshare_button.clicked":{version:1},"code.share.open_link.clicked":{version:1},"code.share.copy_link.clicked":{version:1},"code.share.secrets_detected":{version:1},"code.share.secrets_warning_confirmed":{version:1},"code.share.secrets_warning_cancelled":{version:1},"code.share.login_redirect":{version:1},"code.share.page.viewed":{version:1},"ts.eu_election_banner.shown":{version:1,data_team_tag:"ts"},"ts.banner.shown":{version:1,data_team_tag:"ts"},"billing.credit_card.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.completed":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.contact_sales.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.payment_info.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.setup_billing.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire.submitted":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.ts_questionnaire_manual.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.loaded":{version:1,data_team_tag:"billing_funnel"},"billing.upgrade.select_plan.completed":{version:1,data_team_tag:"billing_funnel"},"claudeai.overages.enabled":{version:1},"claudeai.overages.disabled":{version:1},"claudeai.overages.monthly_limit_updated":{version:1},"claudeai.overages.monthly_limit_set":{version:1},"claudeai.overages.auto_reload_enabled":{version:1},"claudeai.overages.auto_reload_disabled":{version:1},"claudeai.overages.auto_reload_updated":{version:1},"claudeai.overages_or_upgrades_upsell_modal.viewed":{version:1},"claudeai.overages_or_upgrades_upsell_modal.overages_clicked":{version:1},"claudeai.overages_or_upgrades_upsell_modal.upgrade_clicked":{version:1},"claudeai.overages_or_upgrades_upsell_modal.closed":{version:1},"console.feedback.opened":{version:1},"console.feedback.submitted":{version:1},"claudeai.experiment.feedback_submitted":{version:1},"claudeai.experiment.feedback_buttons_rendered":{version:1},"claudeai.command_palette.opened":{version:1},"claudeai.command_palette.item_selected":{version:1},"claudeai.mini_claude.tooltip_impression":{version:1},"claudeai.mini_claude.selection_action":{version:1},"evals.revision.created":{version:1},"evals.show_prompt_preview.toggled":{version:1},"evals.show_golden_answers.toggled":{version:1},"evals.run_all.submitted":{version:1},"evals.run_all.stopped":{version:1},"evals.test_case.run.submitted":{version:1},"evals.test_case.run.completed":{version:1},"evals.test_case.run.failed":{version:1},"evals.test_case.create.submitted":{version:1},"evals.test_case.delete.submitted":{version:1},"evals.select_revision.clicked":{version:1},"evals.test_case.update_rating.submitted":{version:1},"evals.test_case.import.show_modal.clicked":{version:1},"evals.test_case.import.browse.clicked":{version:1},"evals.test_case.import.success":{version:1},"evals.comparison.add_button.clicked":{version:1},"evals.comparison.remove_button.clicked":{version:1},"evals.comparison.other_revision.selected":{version:1},"test_case_generator.generate.started":{version:1},"test_case_generator.edit_logic.clicked":{version:1},"metaprompter.modal.loaded":{version:2},"metaprompter.example.selected":{version:1},"metaprompter.generate.started":{version:1},"metaprompter.generate.stop.attempted":{version:1},"metaprompter.generate.finished":{version:1},"metaprompter.start_editing.clicked":{version:1},"onboarding.invite_accept_page.invite_accept.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.invite_reject.submitted":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.invite_accept_page.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.loaded":{version:1,data_team_tag:"onboarding_funnel"},"onboarding.organization_create.submitted":{version:1,data_team_tag:"onboarding_funnel"},"workbench.prompt.new":{version:1},"workbench.completion.started":{version:2},"workbench.completion.finished":{version:2},"workbench.completion_stream.started":{version:1},"workbench.completion_stream.finished":{version:1},"workbench.tab_selection.clicked":{version:1},"workbench.variables_pane.loaded":{version:1},"workbench.examples.pane.loaded":{version:1},"workbench.examples.example.added":{version:2},"workbench.examples.example.deleted":{version:1},"workbench.examples.converted_to_raw_text":{version:1},"workbench.code_modal.opened":{version:1},"workbench.code_modal.code_copied":{version:1},"claudeai.projects.list_view.switched":{version:1},"claudeai.artifacts.execution.error":{version:1},"claudeai.conversation.suggestion.applied":{version:1},"claudeai.conversation.recent.opened":{version:1},"claudeai.session.recent.opened":{version:1},"claudeai.session.response_delayed":{version:1},"claudeai.session.user_message_sent":{version:1},"claudeai.session.response_received":{version:1},"claudeai.yukon_gold.session_created":{version:2},"claudeai.message.edited":{version:1},"claudeai.message.user_triggered_retry":{version:3},"claudeai.message.sent":{version:1},"claudeai.message.perceived_ttft":{version:1},"claudeai.message.streaming_abandoned":{version:1},"claudeai.mentions.dropdown.opened":{version:1},"claudeai.mentions.option.selected":{version:1},"claudeai.conversation_tree.navigated":{version:1},"claudeai.conversation.starred":{version:1},"claudeai.conversation.unstarred":{version:1},"claudeai.safety.self_harm_banner.viewed":{version:1},"claudeai.safety.self_harm_banner.resources_clicked":{version:1},"claudeai.safety.self_harm_banner.dismissed":{version:1},"claudeai.safety.self_harm_banner.dropdown_opened":{version:1},"claudeai.safety.self_harm_banner.chat_clicked":{version:1},"claudeai.safety.self_harm_banner.call_clicked":{version:1},"claudeai.safety.self_harm_banner.browse_clicked":{version:1},"claudeai.projects.activity.shared_conversation.opened":{version:1},"claudeai.projects.project_starter.clicked":{version:1},"claudeai.projects.chat_starter.clicked":{version:1},"claudeai.projects.starred":{version:1},"claudeai.projects.unstarred":{version:1},"claudeai.conversation.artifact.vscode_exported":{version:1},"claudeai.television.viewed":{version:1},"claudeai.television.onboarding_placeholder.viewed":{version:1},"claudeai.television.signup_placeholder.viewed":{version:1},"claudeai.code.onboarding.github_auth.viewed":{version:1},"claudeai.code.onboarding.github_auth.connect_clicked":{version:1},"claudeai.code.onboarding.env_setup.viewed":{version:1},"claudeai.code.onboarding.env_setup.option_selected":{version:1},"claudeai.code.onboarding.env_setup.completed":{version:1},"claudeai.code.onboarding.env_setup.error":{version:1},"claudeai.code.onboarding.github_app.viewed":{version:1},"claudeai.code.onboarding.github_app.already_installed":{version:1},"claudeai.code.onboarding.github_app.install_button.clicked":{version:1},"claudeai.code.onboarding.github_app.completed":{version:1},"claudeai.code.onboarding.github_app.installation.completed":{version:1},"claudeai.code.onboarding.github_app.check_status.clicked":{version:1},"claudeai.code.onboarding.github_app.not_installed_yet":{version:1},"claudeai.code.onboarding.github_app.skipped":{version:1},"claudeai.code.composer.repository_selected":{version:1},"claudeai.code.composer.environment_selected":{version:1},"claudeai.code.composer.session_creation_started":{version:1},"claudeai.code.composer.default_model_missing_from_config":{version:1},"claudeai.code.message.submitted":{version:1},"claudeai.code.session.stopped":{version:1},"claudeai.code.repos.page_viewed":{version:1},"claudeai.code.repos.github_auth_clicked":{version:1},"claudeai.code.repos.repository_selected":{version:1},"claudeai.code.repos.repository_deselected":{version:1},"claudeai.code.repos.repository_synced":{version:1},"claudeai.code.repos.setup_completed":{version:1},"claudeai.code.environment_modal.viewed":{version:1},"claudeai.code.environment.created":{version:1},"claudeai.code.environment.updated":{version:1},"claudeai.code.environment.creation_error":{version:1},"claudeai.code.environment.update_error":{version:1},"claudeai.code.environment.token_generated":{version:1},"claudeai.code.environment.token_generation_error":{version:1},"claudeai.code.environment.token_revoked":{version:1},"claudeai.code.environment.token_revoke_error":{version:1},"claudeai.code.github_app.repo_dropdown.opened":{version:1},"claudeai.code.github_app.install_button.clicked":{version:1},"claudeai.code.github_app.install_modal.viewed":{version:1},"claudeai.code.github_app.install_modal.install_button.clicked":{version:1},"claudeai.code.github_app.install_modal.check_status.clicked":{version:1},"claudeai.code.github_app.install_modal.done.clicked":{version:1},"claudeai.code.github_app.install_modal.cancel.clicked":{version:1},"claudeai.code.github_app.installation.completed":{version:1},"claudeai.code.github_app.status_check.error":{version:1},"claudeai.code.starter_task.clicked":{version:1},"claudeai.code.starter_task.session_created":{version:1},"claudeai.desktop.code.landing.page_viewed":{version:1},"claudeai.desktop.code.landing.folder_selected":{version:1},"claudeai.desktop.code.landing.model_selected":{version:1},"claudeai.desktop.code.landing.session_created":{version:1},"claudeai.desktop.code.landing.session_creation_error":{version:1},"claudeai.desktop.code.landing.trust_modal_viewed":{version:1},"claudeai.desktop.code.landing.trust_modal_accepted":{version:1},"claudeai.desktop.code.landing.trust_modal_declined":{version:1},"claudeai.desktop.code.cli.opened":{version:1},"claudeai.desktop.code.cli.closed":{version:1},"claudeai.desktop.code.onboarding.page_viewed":{version:1},"claudeai.desktop.code.onboarding.install_clicked":{version:1},"claudeai.desktop.code.onboarding.install_completed":{version:1},"claudeai.desktop.code.onboarding.install_error":{version:1},"claudeai.desktop.code.landing.environment_selected":{version:1},"claudeai.desktop.code.landing.quick_action_clicked":{version:1},"claudeai.desktop.code.landing.image_added":{version:1},"claudeai.television.session.created":{version:1},"claudeai.television.session.viewed":{version:1},"claudeai.television.github_actions_job.viewed":{version:1},"claudeai.television.notification_modal.viewed":{version:1},"claudeai.television.followup.submitted":{version:1},"claudeai.television.session.shared":{version:1},"claudeai.television.pr.create_clicked":{version:1},"claudeai.television.pr.view_clicked":{version:1},"claudeai.television.teleport.copied":{version:1},"claudeai.television.session.rename_clicked":{version:1},"claudeai.television.session.archived":{version:1},"claudeai.television.session.deleted":{version:1},"claudeai.television.session.retry_clicked":{version:1},"claudeai.settings.preview_feature.toggled":{version:1},"claudeai.settings.preview_feature.opened":{version:1},"claudeai.settings.capabilities.opened":{version:1},"claudeai.settings.export_data.submitted":{version:1},"claudeai.settings.export_audit_logs.submitted":{version:1},"claudeai.settings.referral_section.shown":{version:1},"claudeai.settings.referral_section.link_copied":{version:1},"claudeai.support.opened":{version:1},"claudeai.get_help.clicked":{version:1},"claudeai.conversation.feedback.sent":{version:1},"claudeai.conversation.setting.toggled":{version:1},"claudeai.thinking_cell.clicked":{version:1},"ccos.chatsuggestion.clicked":{version:1},"ccos.chatsuggestions.loaded":{version:1},"ccos.chatsuggestions.feedback":{version:1},"styles.selector.clicked":{version:1},"styles.modal":{version:1},"styles.nux.create_clicked":{version:1},"styles.custom.create_clicked":{version:1},"styles.custom.describe_clicked":{version:1},"styles.custom.describe_selected":{version:1},"styles.selected":{version:1},"artifact.feedback.sentiment":{version:1},"artifact.feedback.note":{version:1},"artifact.share_button_clicked":{version:1},"artifact.publish_button_clicked":{version:1},"artifact.share.modal.share_button_clicked":{version:1},"artifact.publish.modal.publish_button_clicked":{version:1},"artifact.studio.create_button_clicked":{version:1},"artifact.studio.create_mode_selected":{version:1},"artifact.studio.remix":{version:1},"artifact.studio.view_full_chat":{version:1},"artifact.studio.copy_prompt":{version:1},"artifact.popover.artifacts_tab_clicked":{version:1},"artifact.popover.dismiss_button_clicked":{version:1},"artifact.popover.dismiss_x_clicked":{version:1},"artifact.interaction.click":{version:1},"artifact.callout.learn_more_clicked":{version:1},"artifact.callout.enable_clicked":{version:1},"artifact.callout.dismissed":{version:1},"artifact.public.remix":{version:1},"artifact.public.share":{version:1},"claudeai.mcp.tool.toggled":{version:1},"claudeai.mcp.create_server":{version:1},"claudeai.mcp.auth.init":{version:1},"claudeai.mcp.auth.completed":{version:1},"claudeai.mcp.directory.page_view":{version:1},"mcp.servers.listed":{version:1},"mcp.servers.connected":{version:1},"mcp.resources.listed":{version:1},"mcp.resources.read":{version:1},"mcp.prompts.listed":{version:1},"mcp.prompts.used":{version:1},"mcp.tools.listed":{version:1},"mcp.tools.called":{version:1},"mcp.sampling.requested":{version:1},"mcp.websocket.transport.connection.failed":{version:1},"mcp.websocket.authfailure":{version:1},"mcp.shadow.comparison":{version:1},"claudeai.mcp_app.client_not_found":{version:1,server_uuid:"",tool_name:"",tool_use_id:"",chat_message_uuid:""},"claudeai.mcp_app.error":{version:1,server_uuid:"",tool_name:"",tool_use_id:"",chat_message_uuid:"",error_message:""},"harmony.file.saved":{version:1},"harmony.suggestion.accepted":{version:1},"harmony.suggestion.rejected":{version:1},"hfi.comparative_model.selected":{version:1},"hfi.comparative_model.selection_cleared":{version:1},"hfi.comparative_model.streaming.started":{version:1},"hfi.comparative_model.streaming.finished":{version:1},"hfi.comparative_model.feedback_bar.switch_response.clicked":{version:1},"hfi.comparative_model.feedback_bar.prefer_response.clicked":{version:1},"apps.download_button_clicked":{version:2},"apps.nudge_banner_shown":{version:1},"apps.nudge_banner_clicked":{version:1},"apps.harmony_directory_synced":{version:1},"console.onboarding.name_and_legal.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.name_and_legal.submitted":{version:1,data_team_tag:"onboarding_funnel"},"tengu.waitlist.update":{version:1},"tengu.waitlist.details":{version:1},"oauth.authorize.approved":{version:1},"oauth.authorize.denied":{version:1},"oauth.authorize.success":{version:1},"oauth.authorize.failure":{version:1},"console.onboarding.account_type.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.individual_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.account_type.organization_selected":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.loaded":{version:1,data_team_tag:"onboarding_funnel"},"console.onboarding.organization_details.submitted":{version:1,data_team_tag:"onboarding_funnel"},"console.navigation.nav_item.clicked":{version:1},"console.get_help.clicked":{version:1},"console.login.code.chat_account_link_clicked":{version:1},"console.login.page_viewed":{version:1},"console.environment_profiles.list.viewed":{version:1},"console.environment_profiles.create_modal.opened":{version:1},"console.environment_profiles.created":{version:1},"console.environment_profiles.create_error":{version:1},"console.environment_profiles.detail.viewed":{version:1},"console.environment_profiles.updated":{version:1},"console.environment_profiles.update_error":{version:1},"console.environment_profiles.archived":{version:1},"console.environment_profiles.archive_error":{version:1},"console.environment_profiles.deleted":{version:1},"console.environment_profiles.delete_error":{version:1},"console.environment_profiles.filter.changed":{version:1},"console.environment_profiles.token.generated":{version:1},"console.environment_profiles.token.revoked":{version:1},"login.account.created":{version:1},"login.email.sending_magic_link":{version:1},"login.email.magic_link_sent":{version:1},"login.email.magic_link_send_error":{version:1},"login.email.verifying_magic_link":{version:1},"login.email.magic_link_success":{version:1},"login.email.magic_link_verification_error":{version:1},"login.email.sso_initiated":{version:1},"login.email.sso_success":{version:1},"login.email.sso_verifying_callback":{version:1},"login.email.sso_verification_error":{version:1},"login.email.verifying_code":{version:1},"login.email.code_verification_error":{version:1},"login.email.finished":{version:1},"login.google.started":{version:1},"login.google.error":{version:1},"login.google.verifying":{version:1},"login.google.verification_error":{version:1},"login.google.finished":{version:1},"login.email.error":{version:1},"landing.section.features.viewed":{version:1},"landing.section.pricing.viewed":{version:1},"spotlight.shown":{version:1},"spotlight.dismissed":{version:1},"spotlight.action_clicked":{version:1},"claudeai.conversation.citation_clicked":{version:1},"claudeai.in_chat_upsell.connect_gdrive.displayed":{version:1},"claudeai.in_chat_upsell.connect_gdrive.start":{version:1},"claudeai.in_chat_upsell.dismiss":{version:1},"claudeai.cardamom_prompts.category_displayed":{version:1},"claudeai.cardamom_prompts.prompt_displayed":{version:1},"claudeai.cardamom_prompts.prompt_used":{version:1},"claudeai.skills_prompts.prompt_used":{version:1},"claudeai.skills_prompts.skill_enable_modal_shown":{version:1},"claudeai.skills_prompts.skill_enable_modal_canceled":{version:1},"claudeai.memory_themes.themes_displayed":{version:1},"claudeai.memory_themes.theme_used":{version:1},"claudeai.yukon_gold.mode_selected":{version:1},"claudeai.yukon_gold.mode_removed":{version:1},"claudeai.yukon_gold.skill_selected":{version:1},"claudeai.yukon_gold.skill_removed":{version:1},"claudeai.yukon_gold.browse_more_opened":{version:1},"claudeai.yukon_gold.browse_more_skill_selected":{version:1},"claudeai.yukon_gold.sub_option_changed":{version:1},"claudeai.memory_themes.fallback_triggered":{version:1},"claudeai.memory.org_setting_toggled":{version:1},"claudeai.memory.account_setting_toggled":{version:1},"claudeai.memory.memory_reset":{version:1},"claudeai.memory.edit_modal_opened":{version:1},"claudeai.memory.edit_memory":{version:1},"claudeai.memory.skipped_spotlight_summary":{version:1},"claudeai.conversation_search.account_setting_toggled":{version:1},"claudeai.incognito_mode.toggled":{version:1},"claudeai.skills.file_save_skill.clicked":{version:1},"claudeai.skills.upload_failed":{version:1},"claudeai.skills.skill.toggled":{version:1},"claudeai.skills.skill.try_in_chat_clicked":{version:1},"claudeai.skills.skill.deleted":{version:1},"claudeai.skills.preview_modal.opened":{version:1},"claudeai.skills.tab_switched":{version:1},"claudeai.skills.add_skill.modal.opened":{version:1},"claudeai.skills.add_skill.with_claude.clicked":{version:1},"claudeai.skills.add_skill.quick_create.clicked":{version:1},"claudeai.skills.add_skill.upload.clicked":{version:1},"claudeai.skills.skill.quick_create.succeeded":{version:1},"claudeai.skills.skill.upload.succeeded":{version:1},"claudeai.skills.skill.downloaded":{version:1},"claudeai.skills.skill.replace_started":{version:1},"claudeai.skills.skill.edit_with_claude_clicked":{version:1},"artifactinlinefeedback.selection.clicked":{version:1},"claudeai.toast.shown":{version:1},"claudeai.toast.dismissed":{version:1},"claudeai.toast.cta_clicked":{version:1},"claudeai.claude_code_nudge.shown":{version:1},"claudeai.claude_code_nudge.dismissed":{version:1},"claudeai.claude_code_nudge.hovered":{version:1},"claudeai.claude_code_nudge.clicked":{version:1},"claudeai.promo.claude_code_banner.viewed":{version:1},"claudeai.promo.claude_code_banner.dismissed":{version:1},"claudeai.promo.claude_code_banner.join.clicked":{version:1},"claudeai.desktop_upsell_nudge.shown":{version:1},"claudeai.desktop_upsell_nudge.dismissed":{version:1},"claudeai.desktop_upsell_nudge.hovered":{version:1},"claudeai.desktop_upsell_nudge.clicked":{version:1},"claudeai.invite_contest.clicked":{version:1},"claudeai.invite_contest.dismissed":{version:1},"claudeai.notification.permission.request_started":{version:1},"claudeai.notification.permission.result":{version:1},"claudeai.notification.clicked":{version:1},"claudeai.pricing.plan_toggled":{version:1},"claudeai.pricing.max_plan_toggled":{version:1},"claudeai.pricing.promo_applied":{version:1},"claudeai.pricing.payment_modal.viewed":{version:1},"claudeai.pricing.payment_form_submitted":{version:1},"claudeai.pricing.payment_failed":{version:1},"claudeai.pricing.claude_code_tooltip.hovered":{version:1},"claudeai.pricing.claude_code_tooltip.learn_more.clicked":{version:1},"claudeai.teams.existing_subscription_warning_modal.viewed":{version:1},"claudeai.teams.name_entered":{version:1},"claudeai.login.resend_requested":{version:1},"claudeai.login.email_submitted":{version:1},desktop_dxt_installed:{version:1},"marketing.consent.updated":{version:1},"claudeai.upgrade.pro_page_viewed":{version:1},"claudeai.upgrade.max_page_viewed":{version:1},"claudeai.recordplayer.viewed":{version:1},"claudeai.recordplayer.sidebar.toggled":{version:1},"claudeai.recordplayer.session.created":{version:1},"claudeai.recordplayer.session.selected":{version:1},"claudeai.recordplayer.session.viewed":{version:1},"claudeai.recordplayer.prompt.submitted":{version:1},"claudeai.recordplayer.environment.selected":{version:1},"claudeai.recordplayer.elicitation.responded":{version:1},"claudeai.model_upsell.tooltip.viewed":{version:1},"claudeai.model_upsell.tooltip.clicked":{version:1},"claudeai.model_upsell.tooltip.dismissed":{version:1},"wiggle.file.created":{version:1},"wiggle.file.downloaded":{version:1},"wiggle.file.downloaded_all":{version:1},"wiggle.file.copy_to_clipboard":{version:1},"wiggle.file.add_to_project":{version:1},"wiggle.file.download_as_pdf":{version:1},"wiggle.file.share_artifact":{version:1},"wiggle.file.publish_artifact":{version:1},"wiggle.file.gdrive_export.attempted":{version:1},"wiggle.file.gdrive_export.success":{version:1},"wiggle.file.gdrive_export.failed":{version:1},"wiggle.gdrive.connection.modal_shown":{version:1},"wiggle.gdrive.connection.initiated":{version:1},"wiggle.gdrive.connection.success":{version:1},"wiggle_egress_spotlight.viewed":{version:1},"wiggle_egress_spotlight.toggle_changed":{version:1},"wiggle_egress_spotlight.cta_clicked":{version:1},"activity_panel.toggle_opened":{version:1},"activity_panel.toggle_closed":{version:1},"activity_panel.resource_opened":{version:1},"activity_panel.resource_closed":{version:1},"activity_panel.resources_appeared":{version:1},"activity_panel.todos_appeared":{version:1},"activity_panel.feedback":{version:1},"claudeai.plus_menu.opened":{version:1},"claudeai.plus_menu.screenshot_clicked":{version:1},"claudeai.slash_command_menu.opened":{version:1},"claudeai.slash_command_menu.item_selected":{version:1,item_label:"",item_type:""},"claude_code_install_page.get_started_clicked":{version:1},"claude_code_install_page.upgrade_clicked":{version:1},"claude_code_install_page.command_copied":{version:1},"claude_code_install_page.documentation_clicked":{version:1},"claude_code_install_page.advanced_setup_clicked":{version:1},"claude_code_install_page.troubleshooting_clicked":{version:1},"claude_code_install_page.done_clicked":{version:1},"claude_code_upgrade_page.viewed":{version:1},"claude_code_upgrade_page.upgrade_clicked":{version:1},grove_policy_viewed:{version:1},grove_policy_toggled:{version:1},grove_policy_submitted:{version:1},grove_policy_dismissed:{version:1},grove_policy_details_clicked:{version:1},"crochet.landing.page_viewed":{version:1},"crochet.install.page_viewed":{version:1},"crochet.landing.join_preview.clicked":{version:1},"crochet.landing.install_extension.clicked":{version:1},"crochet.landing.watch_demo.clicked":{version:1},"crochet.install.challenge.started":{version:1},"crochet.install.try_usecase.clicked":{version:1},"claudeai.user_facing_error.shown":{version:1},"claudeai.cumulative_error_count":{version:1,num_errors:!0},"claudeai.unhandled_error_code":{version:1},"claudeai.yukon_gold.enabled":{version:1},"claudeai.yukon_gold.prompt_clicked":{version:2},"claudeai.yukon_gold.nudge_clicked":{version:1},"claudeai.yukon_silver.select_folders.open":{version:1},"claudeai.haystack.page_viewed":{version:1},"claudeai.haystack.owner.landing.next.clicked":{version:1},"claudeai.haystack.owner.tools.next.clicked":{version:1},"claudeai.haystack.owner.name.next.clicked":{version:1},"claudeai.haystack.user.landing.next.clicked":{version:1},"claudeai.haystack.user.tool.skip.clicked":{version:1},"claudeai.haystack.user.request.clicked":{version:1},"claudeai.haystack.project.created":{version:1},"claudeai.haystack.project.creation_error":{version:1},"television.redirected_to_waitlist":{version:1},"television.redirected_from_waitlist":{version:1},"television.waitlist.viewed":{version:1},"television.cli_command_copied":{version:1},"television.claude_code_web_admin_toggle":{version:1},"claude_code_web.disabled.viewed":{version:1},"claude_code_web.disabled.cli_command_copied":{version:1},"claudeai.storage.error":{version:1},"claudeai.sidebar.state_set":{version:1},"claude_code_web.family_app.viewed":{version:1},"claude_code_web.family_app.cli_command.copied":{version:1},"claude_code_web.family_app.upgrade.clicked":{version:1},"claude_code_web.sidebar.code_clicked":{version:1},"claudeai.upgrade.enterprise_contact_sales.click":{version:1},"interview.modal.opened":{version:1},"interview.started":{version:1},"interview.message.sent":{version:1},"interview.completed":{version:1},"interview.dismissed":{version:1},"interview.modal.closed":{version:1},"interview.start.failed":{version:1},"interview.end.failed":{version:1},"claudeai.mcp_app.bridge_event":{version:1,server_uuid:"",tool_name:"",tool_use_id:"",chat_message_uuid:"",event_type:"",sandbox_url:""},"image_search.malformed_images":{version:1,conversation_uuid:"",malformed_count:0,valid_count:0},"image_search.image_clicked":{version:1,conversation_uuid:""}};function y(e,i,o){var a,r,d;let l={...{userAgent:null==(a=window.navigator)?void 0:a.userAgent,fbc:p.m.get(n.eT.FBCLID),gclid:p.m.get(n.eT.GOOGLE_GCL_AW),ttclid:p.m.get(n.eT.TTCLID),rdt_cid:p.m.get(n.eT.RDT_CID)}};if(o&&(l.country=o),(null==e?void 0:e.email_address)&&(l.email=e.email_address),l.is_personal_email=(0,s.he)(null==e?void 0:e.email_address),e){l.account_created_at=Date.parse(e.created_at),l.account_uuid=e.uuid;let o=i||(null==(d=e.memberships)||null==(r=d[0])?void 0:r.organization);if(o){l.organization_uuid=o.uuid,l.billing_type=o.billing_type;let e=(0,t.bu)(o),i=(0,t.BZ)(o);l.org_type=e,l.subscription_plan="claude_max"===e&&i?"".concat(e," ").concat(i):e}}return l}let w=()=>{let{account:e,activeOrganization:i}=(0,b.YL)(),{ipCountry:o}=(0,m._r)();return(0,c.useMemo)(()=>y(e,i,o),[e,i,o])},x=()=>{let{analytics:e}=(0,f.H)(),i=(0,k.U)(),{preferences:o}=(0,g.S)(),a=(0,_.fS)("log_segment_events"),s=(0,u.Z)(),t=(0,c.useMemo)(()=>a&&!0,[a]),d=(0,l.useSearchParams)().has(n.cn),{account:v,activeOrganization:p,isLoading:w}=(0,b.YL)(),x=(0,m.fZ)(),{ipCountry:E}=(0,m._r)(),C=null==v?void 0:v.uuid,S=null==p?void 0:p.uuid,T=null==p?void 0:p.billing_type,z=(0,c.useRef)([]),j=(0,c.useRef)(!1),M=w&&!j.current,N=(0,c.useCallback)(i=>{let a=!i&&!v;return e&&s&&(!a||o.analytics)},[e,s,v,o.analytics]),P=(0,c.useCallback)(e=>y(null!=e?e:v,p,E),[v,p,E]),A=(0,c.useCallback)(async(o,a)=>{var n;if(M)return void z.current.push(()=>void A(o,a));let{event_key:s,...l}=o,c={account_uuid:null!=(n=null==a?void 0:a.uuid)?n:C,organization_uuid:S,billing_type:T,surface:x?"claude-ai":"console",...d?{incognito_mode:!0}:null,...h[s],...l},_={context:{traits:P(a)}};if(t&&r.v.info(r.u.SEGMENT_EVENT,"track: ".concat(s),c,_),!N(a)){t&&r.v.info(r.u.SEGMENT_EVENT,"DROPPED track: ".concat(s," (shouldSendToSegment=false)"));return}await (null==e?void 0:e.track(s,c,_)),null==i||i.track(s,c,_)},[e,i,C,S,T,x,t,N,P,d,M]),D=(0,c.useCallback)(async(o,a)=>{t&&r.v.info(r.u.SEGMENT_EVENT,"identify: ".concat(o),a),N()&&(await (null==e?void 0:e.identify(o,a)),null==i||i.identify(o,a))},[e,i,N,t]),I=(0,c.useCallback)(async(i,o)=>{t&&r.v.info(r.u.SEGMENT_EVENT,"alias: ".concat(o," -> ").concat(i)),N()&&await (null==e?void 0:e.alias(i,o))},[e,N,t]),L=(0,c.useCallback)(async(i,o)=>{var a,n,s;if(M)return void z.current.push(()=>void L(i,o));if(t&&r.v.info(r.u.SEGMENT_EVENT,"page_view: ".concat(i),o),!N())return;let d=null!=(n=null==(a=await (null==e?void 0:e.user()))?void 0:a.id())?n:void 0,l=null!=(s=null==v?void 0:v.uuid)?s:void 0;l&&d!==l||await (null==e?void 0:e.page(i,o))},[e,N,v,t,M]);return(0,c.useEffect)(()=>{let e=e=>{if(z.current.length>0&&!j.current){let i=[...z.current];z.current=[],j.current=!0,t&&r.v.info(r.u.SEGMENT_EVENT,"Flushing ".concat(i.length," queued events (").concat(e,")")),i.forEach(e=>e())}};if(!w)return void e("loaded");let i=setTimeout(()=>e("timeout"),5e3);return()=>clearTimeout(i)},[w,t]),(0,c.useMemo)(()=>({track:A,identify:D,page:L,alias:I,getTraitsWithContext:P}),[A,D,L,I,P])},E=(e,i,o,n)=>{let s=x(),{onSuccess:r,onError:t,...d}=n||{};return(0,v.L2)(i,o,{onSuccess(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];s.track({event_key:e,result:"success"}),null==r||r(...o)},onError(i){let o;for(var n=arguments.length,r=Array(n>1?n-1:0),d=1;d<n;d++)r[d-1]=arguments[d];i instanceof a.LG&&(o=i.type),s.track({event_key:e,result:"failure",failure_reason:o}),null==t||t(i,...r)},...d})},C=e=>{var i;let{eventKey:o,threshold:a=.5,freezeOnceVisible:n=!0}=e,{track:s}=x(),r=(0,c.useRef)(!1),{ref:t,entry:l}=(0,d.v)({threshold:a}),_=null!=(i=null==l?void 0:l.isIntersecting)&&i;return(0,c.useEffect)(()=>{!_||n&&r.current||(s({event_key:o}),r.current=!0)},[_,s,o,n]),t}},0x11945df39:(e,i,o)=>{o.d(i,{B9:()=>n,Lj:()=>s,he:()=>t});let a=/^[A-Za-z0-9._%+\u0027-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}$/,n=e=>a.test(e),s=(e,i)=>{if(!i)return!1;let o=e.split("@")[1];return i.includes(o)},r=["gmail.com","googlemail.com","yahoo.com","hotmail.com","outlook.com","aol.com","icloud.com","me.com","mac.com","live.com","msn.com","yahoo.co.uk","yahoo.fr","yahoo.es","yahoo.de","yahoo.it","yahoo.ca","yahoo.com.au","yahoo.co.jp","yahoo.co.in","yahoo.com.br","yahoo.com.ar","yahoo.com.mx","yahoo.com.sg","yahoo.co.id","yahoo.com.tw","hotmail.fr","hotmail.co.uk","hotmail.de","hotmail.it","hotmail.es","hotmail.nl","hotmail.be","hotmail.se","hotmail.dk","live.fr","live.co.uk","live.nl","live.it","live.se","live.de","live.dk","live.no","live.com.au","live.com.pt","ymail.com","rocketmail.com","privaterelay.appleid.com","proton.me","pm.me","hey.com","passmail.net","qq.com","163.com","126.com","139.com","188.com","sina.com","sohu.com","simplelogin.com","aliyun.com","naver.com","daum.net","hanmail.net","nate.com","docomo.ne.jp","rediffmail.com","web.de","gmx.de","gmx.com","gmx.net","gmx.at","gmx.ch","gmx.fr","t-online.de","freenet.de","arcor.de","orange.fr","wanadoo.fr","free.fr","sfr.fr","laposte.net","neuf.fr","voila.fr","club-internet.fr","aliceadsl.fr","bbox.fr","libero.it","virgilio.it","alice.it","tiscali.it","tin.it","email.it","mail.ru","yandex.ru","yandex.com","rambler.ru","terra.es","home.nl","planet.nl","zonnet.nl","hetnet.nl","kpnmail.nl","ziggo.nl","telenet.be","skynet.be","btinternet.com","virginmedia.com","blueyonder.co.uk","sky.com","tiscali.co.uk","ntlworld.com","talktalk.net","bluewin.ch","uol.com.br","bol.com.br","terra.com.br","ig.com.br","shaw.ca","sympatico.ca","rogers.com","bigpond.com","bigpond.net.au","optusnet.com.au","comcast.net","verizon.net","att.net","cox.net","charter.net","sbcglobal.net","bellsouth.net","earthlink.net","optonline.net","frontiernet.net","juno.com","posteo.de","mailbox.org","mail.com","email.com","protonmail.com","protonmail.ch","passmail.com","posteo.net","tutanota.com","tutanota.de","zoho.com","fastmail.com","hushmail.com","mailinator.com","yopmail.com","duck.com","hotmail.co.jp","gmx.ie","gmx.tm","seznam.cz","tuta.io","tutamail.com","tuta.com","kakao.com","gmx.it","gmx.li","gmx.ca","gmx.sg","gmx.co.in","gmx.co.uk","gmx.es","gmx.hk","gmx.se","wp.pl","pobox.com","live.ca","windowslive.com","live.at","live.be","live.co.za","live.com.mx","live.in","live.jp","o2.pl","iki.fi","ukr.net","abv.bg","email.cz","centrum.cz","post.cz","interia.pl","onet.pl","op.pl","poczta.fm","gazeta.pl","tlen.pl","hotmail.ca","hotmail.ch","hotmail.com.br","hotmail.com.tr","hotmail.gr","hotmail.no","yahoo.com.hk","yahoo.dk","yahoo.gr","yahoo.ie","yahoo.in","yandex.kz","foxmail.com","zohomail.com","zohomail.in","nifty.com","ezweb.ne.jp","i.softbank.jp","inbox.lv","mail.de","usa.net","fastmail.fm","vivaldi.net","slmail.me","slmails.com","passfwd.com","8shield.net","ik.me","simplelogin.fr","relay.firefox.com","addy.io","dralias.com","keemail.me","nym.hush.com","riseup.net","disroot.org","posteo.com","mailfence.com","runbox.com","startmail.com","use.startmail.com","mailo.com","sent.com","eml.cc","gtempaccount.com","silomails.com","8alias.com","linkidmail.com","wbox.pro","swapped.com","pox.me"],t=e=>{var i;if(!e)return"unknown";let o=null==(i=e.split("@")[1])?void 0:i.toLowerCase();return o?r.includes(o)?"personal":"work":"unknown"}},0x145cd0369:(e,i,o)=>{o.d(i,{IsolatedMarketingPixelSegmentProvider:()=>m,U:()=>g});var a=o(0x22102fd88),n=o(0xe8b53191),s=o(0xa5acf583),r=o(0x32852e5d),t=o(0x18393fe29),d=o(0x9845e38c),l=o(0xac309a83),c=o(0x1d0eef17),_=o(0xfc89b4a4);let u=["onboarding.started","extended_onboarding.started","onboarding.completed","chat.conversation.first_conversation_created","payment_state_success"],v=(0,_.createContext)(null);function m(e){let{children:i}=e,{segmentKey:o,segmentCdnHost:m}=(0,s._r)(),{preferences:g}=(0,r.S)(),p=(0,_.useRef)(null),[b,f]=(0,_.useState)(!1),k=(0,_.useRef)([]),h=(0,l.fS)("log_segment_events")&&!0,y=(0,l.fS)("isolated_segment_subdomain"),w=(0,n.Z)(),x="4eb283ac33",E=(0,_.useCallback)(function(e){for(var i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];h&&d.v.debug(d.u.SEGMENT_EVENT,"[IsolatedMarketingPixelSegmentProvider]",e,...o)},[h]),C=(0,_.useMemo)(()=>(function(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o="/isolated-segment.html?v=".concat(e);return i?(0,t.YG)()?"https://a.claude-ai.staging.ant.dev/isolated-segment.html?v=".concat(e):(0,t.O0)()?o:"https://a.claude.ai/isolated-segment.html?v=".concat(e):o})(x,y),[x,y]),S=(0,_.useCallback)(()=>{let e=[...k.current];k.current=[],e.forEach(e=>{var i,o;E("Sending message to iframe:",e,k.current);let a=C.startsWith("http")?new URL(C).origin:window.location.origin;null==(o=p.current)||null==(i=o.contentWindow)||i.postMessage({target:"isolated-segment",...e},a)})},[E,C]),T=(0,_.useCallback)(e=>{var i;k.current.push(e),(null==(i=p.current)?void 0:i.contentWindow)&&(b||"init"===e.type)?S():E("iframe not ready, queueing message:",e)},[E,b,S]);(0,c.M)("message",(0,_.useCallback)(e=>{let i=e.data;if("isolated-segment"===i.source)switch(E("Received message from iframe:",i),i.type){case"iframe_ready":E("Iframe ready, initializing Segment with writeKey:",o,"cdnHost:",m),T({type:"init",writeKey:o,cdnHost:m});break;case"segment_initialized":E("Segment in iframe initialized successfully"),f(!0),E("messageQueue when IsolatedSegment is ready",k.current),S(),k.current=[];break;default:E("Message from isolated-segment iframe:",i.type)}},[m,o,E,T,f,S]));let z=(0,_.useCallback)((e,i,o)=>{E("Tracking event:",e,i,o),u.includes(e)&&(E("Sending event to isolated segment:",e,i),T({type:"track",event:e,properties:i,options:o}))},[E,T]),j=(0,_.useCallback)((e,i)=>{E("Identifying user:",e,i),T({type:"identify",userId:e,traits:i})},[E,T]),M=(0,_.useCallback)(()=>{E("Sending ping..."),T({type:"ping"})},[E,T]),N=(0,_.useMemo)(()=>({isReady:b,track:z,identify:j,sendPing:M}),[b,z,j,M]);return(0,a.jsxs)(v.Provider,{value:N,children:[i,!1!==g.marketing&&w&&(0,a.jsx)("iframe",{ref:p,src:C,style:{display:"none"},referrerPolicy:"no-referrer",sandbox:"allow-scripts allow-same-origin",title:""})]})}function g(){return(0,_.useContext)(v)}},0x23f1c451b:(e,i,o)=>{o.d(i,{R:()=>n,up:()=>s});var a=o(0x253a5c787);let n=function(e){for(var i=arguments.length,o=Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];try{"function"==typeof window.gtag&&gtag(e,...o)}catch(e){(0,a.Cp)(e)}},s=e=>{n("consent","update",r(e))},r=e=>({ad_personalization:e.marketing?"granted":"denied",ad_user_data:e.marketing?"granted":"denied",ad_storage:e.marketing?"granted":"denied",analytics_storage:e.analytics?"granted":"denied",functionality_storage:"granted",personalization_storage:"granted",security_storage:"granted"})}}]);