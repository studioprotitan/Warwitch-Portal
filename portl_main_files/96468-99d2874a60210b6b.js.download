try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},a=(new e.Error).stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="4cdbd6d9-dd04-4e60-8a7e-1d053eacf44f",e._sentryDebugIdIdentifier="sentry-dbid-4cdbd6d9-dd04-4e60-8a7e-1d053eacf44f")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96468],{0x60bc37a2:(e,a,t)=>{t.d(a,{GJ:()=>d,JQ:()=>i,d5:()=>r,i_:()=>l});var s=t(0x12c9046cd),n=t(0xac309a83);let l=()=>(0,n.fS)("sensitive_mcps_per_call_consent");function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.L2)("/api/accounts/me/consents/revoke","POST",e)}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.L2)("/api/accounts/me/consents/check","POST",e)}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.L2)("/api/accounts/me/consents","PUT",e)}},0x79e7d0e6:(e,a,t)=>{t.d(a,{f:()=>x});var s=t(0x22102fd88),n=t(0x14de19ae8),l=t(0x139b5e710),r=t(0x225bae024),i=t(0x183548b63),d=t(0xfc89b4a4),c=t(0x1ab0d1ca1),o=t(0x38e6572),u=t(0x1d302b010),f=t(0xfee8c7b4);function x(e){var a;let{onClose:t,onRemove:x,server:m}=e,v=(0,c.A)(),g=(0,n.mV)(),{activeOrganization:b}=(0,n.YL)(),{addError:h}=(0,l.Yf)(),p=m.name,{revokeConsentIfNeeded:j}=(0,f.G)(),{mutate:y,isPending:C}=(0,u.ll)((null==b?void 0:b.uuid)||"",null!=(a=m.uuid)?a:"",{onSuccess:t,onError:e=>{h(v.formatMessage({defaultMessage:"Failed to disconnect server",id:"zX14mjXCQK"}),{error:e,messageForLogging:"Failed to disconnect server"})}}),A=(0,d.useCallback)(()=>{j(m),y(),null==x||x()},[j,m,y,x]);return(0,s.jsxs)(i.aF,{isOpen:!0,onClose:t,title:g?v.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:p}):v.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:p}),modalSize:"lg",children:[(0,s.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:p}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(o.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:p}})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:p}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(o.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),(0,s.jsxs)(i.vW,{layout:"right",children:[(0,s.jsx)(r.$,{onClick:t,variant:"secondary",children:(0,s.jsx)(o.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(r.$,{loading:C,onClick:A,variant:"danger",children:(0,s.jsx)(o.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}},0xb0c19b65:(e,a,t)=>{t.d(a,{u:()=>g});var s=t(0x22102fd88),n=t(0x14de19ae8),l=t(0x225bae024),r=t(0x1d4204d53),i=t(0x183548b63),d=t(0x1b370f49d),c=t(0x1b813d90),o=t(0x1e6127894),u=t(0xfc89b4a4),f=t(0x1ab0d1ca1),x=t(0x38e6572),m=t(0x18175ce17),v=t(0x20095e84e);function g(e){let{type:a,onClose:t}=e,r=(0,n.mV)(),d=(0,f.A)(),{mutate:o,isPending:g}=(0,m.xc)({onSuccess:t}),[h,p]=(0,u.useState)(!1),j=(0,v.xI)(a);return(0,s.jsxs)(i.aF,{isOpen:!0,onClose:t,title:r?d.formatMessage({defaultMessage:"Disconnect {serverName} for your team?",id:"QktyTo9HSH"},{serverName:j}):d.formatMessage({defaultMessage:"Disconnect {serverName}?",id:"qlhEu4xmhz"},{serverName:j}),modalSize:"lg",children:[(0,s.jsx)("p",{className:"mt-4 mb-6 text-text-200",children:r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{defaultMessage:"This will disconnect {serverName} for everyone on your team.",id:"W/2zE+LA7Z",values:{serverName:j}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(x.A,{defaultMessage:"They’ll be able to continue previous chats referencing {serverName} content, but Claude won’t be able to access new content or perform new tasks.",id:"febCGTUpcY",values:{serverName:j}})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{defaultMessage:"You can still continue previous chats that reference {serverName} content.",id:"xonrKBdErN",values:{serverName:j}}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(x.A,{defaultMessage:"However, Claude won’t be able to access new content or perform new tasks.",id:"GXIZPZXIvC"})]})}),a===c.v8.GITHUB&&(0,s.jsx)(b,{shouldDeleteOnDisable:h,setShouldDeleteOnDisable:p}),(0,s.jsxs)(i.vW,{children:[(0,s.jsx)(l.$,{onClick:t,variant:"secondary",children:(0,s.jsx)(x.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(l.$,{loading:g,onClick:()=>{o({type:a,enabled:!1,should_delete_on_disable:h}),t()},variant:"danger",children:h?(0,s.jsx)(x.A,{defaultMessage:"Disconnect and delete cached files",id:"cpicqQfn34"}):(0,s.jsx)(x.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})})]})]})}function b(e){let{shouldDeleteOnDisable:a,setShouldDeleteOnDisable:t}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex items-center gap-2 mb-1",children:(0,s.jsx)(r.f,{checkState:a?"checked":"unchecked",onClick:e=>{let{didCheck:a}=e;return t(a)},label:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm text-text-200",children:(0,s.jsx)(x.A,{defaultMessage:"Permanently delete cached GitHub files",id:"QWSlg2jyOj"})}),(0,s.jsx)(d.m,{tooltipContent:(0,s.jsx)(x.A,{defaultMessage:"We will never delete any files from GitHub, only files cached by claude.ai",id:"V7mFrvJBWC"}),children:(0,s.jsx)(o.R,{className:"text-text-400"})})]})})}),a&&(0,s.jsx)("div",{className:"flex items-start align-top min-h-[5rem] gap-2 mb-10 ml-10 text-danger-000",children:(0,s.jsxs)("ul",{className:"text-sm list-disc",children:[(0,s.jsx)("li",{children:(0,s.jsx)(x.A,{defaultMessage:"File deletion will begin a few minutes after submission.",id:"09chittDG9"})}),(0,s.jsx)("li",{children:(0,s.jsx)(x.A,{defaultMessage:"All files cached from GitHub will be permanently deleted from claude.ai.",id:"F1B0dvW0IP"})}),(0,s.jsx)("li",{children:(0,s.jsx)(x.A,{defaultMessage:"An audit log will be written when deletion has completed.",id:"aNLDY0cpk9"})})]})})]})}},0xc6d46d69:(e,a,t)=>{t.d(a,{S:()=>c});var s=t(0x22102fd88),n=t(0x225bae024),l=t(0x183548b63),r=t(0xfc89b4a4),i=t(0x38e6572),d=t(0x1b6c1d723);function c(e){var a;let{platform:t,onClose:c,onSubmit:o,loading:u}=e,[f,x]=(0,r.useState)(t.issuer),[m,v]=(0,r.useState)(t.client_id),[g,b]=(0,r.useState)((null==(a=t.deployment_ids)?void 0:a[0])||""),h=!f.trim()||!m.trim()||!g.trim();return(0,s.jsx)(l.aF,{isOpen:!0,onClose:c,modalSize:"xl",title:(0,s.jsx)("div",{className:"flex gap-2 items-center",children:(0,s.jsx)(i.A,{defaultMessage:"Edit Canvas Instance",id:"aBsNZWVKN+"})}),subtitle:(0,s.jsx)(i.A,{defaultMessage:"Update your Canvas LMS instance configuration",id:"FqSEGC5V7F"}),children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h||o(t.id,f.trim().replace(/\/$/,""),m.trim(),g.trim())},className:"flex flex-col",children:[(0,s.jsx)(d.E,{domain:f,setDomain:x,clientId:m,setClientId:v,deploymentId:g,setDeploymentId:b}),(0,s.jsxs)(l.vW,{children:[(0,s.jsx)(n.$,{type:"submit",loading:u,disabled:h,children:(0,s.jsx)(i.A,{defaultMessage:"Save Changes",id:"3VI9mt1zm0"})}),(0,s.jsx)(n.$,{variant:"secondary",onClick:c,children:(0,s.jsx)(i.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})})}},0xeefd50e9:(e,a,t)=>{t.d(a,{Ou:()=>g,Xd:()=>b});var s=t(0x19273021e),n=t(0xac309a83),l=t(0x1b813d90),r=t(0x10a2d47e3),i=t(0x78b33fbd),d=t(0x21a557d5c),c=t(0x1334f6ecc),o=t(0xecd80d84),u=t(0xe0c26d90),f=t(0x1065e58a2),x=t(0x18175ce17),m=t(0x1700ce6fd);function v(){let e=(0,n.fS)("kingfisher_enabled"),a=(0,c.LP)(),{isDriveAuthenticated:t}=(0,c.cI)(),s=(0,n.fS)("pumpernickel_enabled"),r=(0,x.vm)(),d=(0,x.kO)(),o=(0,x.Ys)(l.v8.GMAIL),{isAuthenticated:u}=(0,x.ob)(l.v8.GMAIL),f=(0,x.Ys)(l.v8.GCAL),{isAuthenticated:m}=(0,x.ob)(l.v8.GCAL),v=(0,x.Ys)(l.v8.SLACK),{isAuthenticated:g}=(0,x.ob)(l.v8.SLACK),b=(0,i.useLayer)("trials_freemium").get("free_integrations",!1);return{[l.v8.GDRIVE]:{type:l.v8.GDRIVE,available:(e||b)&&!d,enabledForOrg:a,connected:t},[l.v8.GMAIL]:{type:l.v8.GMAIL,available:(s||b)&&!r,enabledForOrg:o,connected:u},[l.v8.GCAL]:{type:l.v8.GCAL,available:(s||b)&&!r,enabledForOrg:f,connected:m},[l.v8.SLACK]:{type:l.v8.SLACK,available:v,enabledForOrg:v,connected:g}}}let g=v;function b(){let e=Object.values(v()),a=(0,n.fS)("github_disabled"),t=(0,u.Cq)(),{isGithubAuthenticated:i}=(0,u.nB)({fetchImmediately:!0}),c=(0,r.wc)()[r.j$]||"invalid",{data:g}=(0,s.Jh)(c),b=g&&g.length>0,h=(0,n.fS)("spider_enabled_2"),p=(0,f.AI)(),{isOutlineAuthenticated:j}=(0,f.I5)(),y=(0,n.fS)("cinnabon_enabled"),C=(0,x.Ys)(l.v8.SALESFORCE),{isAuthenticated:A}=(0,x.ob)(l.v8.SALESFORCE),M=(0,x.Ys)(l.v8.ASANA),{isAuthenticated:S}=(0,x.ob)(l.v8.ASANA),I=(0,n.fS)("claude_ai_ember"),N=(0,n.fS)("claude_ai_velvet_accordion"),{data:_}=(0,d.sr)(),w=((null==_?void 0:_.filter(e=>e.is_active))||[]).length>0,E=(0,o.w5)(),{isAuthenticated:D}=(0,o.eF)();return[...e,...b?[{type:l.v8.CUTTLEFISH,available:!0,enabledForOrg:!0,connected:!0}]:[],{type:l.v8.GITHUB,available:!a,enabledForOrg:t,connected:i},{type:l.v8.OUTLINE,available:h&&!1,enabledForOrg:p,connected:j},{type:l.v8.SALESFORCE,available:y,enabledForOrg:C,connected:A},{type:l.v8.ASANA,available:y,enabledForOrg:M,connected:S},{type:l.v8.FIDDLEHEAD,available:!1,enabledForOrg:E,connected:D},{type:l.v8.CANVAS,available:I&&N&&!0,enabledForOrg:w,connected:w,connectedActions:w?[m.r.EDIT_CANVAS,m.r.DISABLE_CANVAS]:[],disconnectedActions:[]}].filter(e=>e.available)}},0xfee8c7b4:(e,a,t)=>{t.d(a,{G:()=>x});var s=t(0x139b5e710),n=t(0x9845e38c),l=t(0xac309a83),r=t(0xfc89b4a4),i=t(0x1ab0d1ca1),d=t(0x156c4e43b),c=t(0x60bc37a2);let o=d.Ik({servers:d.YO(d.Ik({url:d.Yj(),sensitiveDataTypes:d.YO(d.Yj())})).optional()}),u={};function f(e){return e.replace(/\/$/,"")}let x=()=>{let e=(0,i.A)(),{addError:a}=(0,s.Yf)(),t=(0,c.i_)(),d=(0,r.useRef)(!1),{mutateAsync:x}=(0,c.GJ)(),{mutateAsync:m}=(0,c.JQ)(),{mutate:v}=(0,c.d5)({onError:e=>{n.v.error(n.u.MCP,"Failed to revoke consent when removing server",e)}}),g=(0,l.iW)("sensitive_mcp_tools",u,o),b=(0,r.useCallback)(e=>{var a;if(!t||!e)return!1;let s=f(e);return(null!=(a=g.servers)?a:[]).some(e=>e.url&&f(e.url)===s&&e.sensitiveDataTypes.includes("phi"))},[t,g.servers]),h=(0,r.useCallback)(()=>{d.current=!0},[]);return{requiresHealthConsent:b,confirmHealthConsent:h,recordConsent:(0,r.useCallback)(async s=>{if(d.current&&(d.current=!1,t))try{await x({consent_type:"consumer_health",consent_hash:"4f011d10856bb1fc41f8404645a16b6d9dc54991bfbd02027f09c75721893872",entity_type:"mcp_remote_server",entity_id:s})}catch(t){a(e.formatMessage({defaultMessage:"Failed to record consent.",id:"E+Qn+ZSx6Z"}),{error:t,errorContext:{tags:{source:"health_consent_recording"}},messageForLogging:"Failed to record consent."})}},[t,x,a,e]),revokeConsentIfNeeded:(0,r.useCallback)(e=>{if(!t||!e.uuid)return;let a=e.uuid;m({consent_type:"consumer_health",entity_type:"mcp_remote_server",entity_id:a}).then(e=>{let{has_consent:t}=e;t&&v({consent_type:"consumer_health",entity_type:"mcp_remote_server",entity_id:a})}).catch(e=>{n.v.warn(n.u.MCP,"Failed to check consent when removing server",e)})},[t,m,v])}}},0x1700ce6fd:(e,a,t)=>{t.d(a,{r:()=>S,z:()=>I});var s=t(0x22102fd88),n=t(0x14de19ae8),l=t(0x139b5e710),r=t(0x225bae024),i=t(0x1b03847fb),d=t(0x1bd175d8c),c=t(0x1e711c04c),o=t(0x1a1f6dda6),u=t(0xfc89b4a4),f=t(0x1ab0d1ca1),x=t(0x21a557d5c),m=t(0x1d302b010),v=t(0x183548b63),g=t(0xa6a34c14),b=t(0x38e6572);function h(e){let{platform:a,onClose:t,onConfirm:n,loading:l}=e,i=(e=>{let a=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==a?void 0:a[1])||e})(a.issuer);return(0,s.jsxs)(v.aF,{isOpen:!0,onClose:t,modalSize:"md",title:(0,s.jsxs)("div",{className:"flex gap-2 items-center text-danger-000",children:[(0,s.jsx)(g.N,{size:20,weight:"bold"}),(0,s.jsx)(b.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})]}),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{className:"text-text-000",children:(0,s.jsx)(b.A,{defaultMessage:"Are you sure you want to disable the Canvas instance ‘{platformName}’?",id:"5Sw2NbmZOi",values:{platformName:a.name||i}})}),(0,s.jsxs)("div",{className:"p-3 bg-danger-100 border border-danger-200 rounded-lg",children:[(0,s.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,s.jsx)(b.A,{defaultMessage:"This action will:",id:"zvWv7FFtPu"})}),(0,s.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,s.jsx)("li",{children:(0,s.jsx)(b.A,{defaultMessage:"Temporarily disable Claude access from Canvas for this instance",id:"lIEPYlaaQV"})}),(0,s.jsx)("li",{children:(0,s.jsx)(b.A,{defaultMessage:"Prevent users from launching Claude from Canvas",id:"DeUCbJxieq"})}),(0,s.jsx)("li",{children:(0,s.jsx)(b.A,{defaultMessage:"Can be re-enabled at any time without reconfiguration",id:"wnmm8Q2qIC"})})]})]}),(0,s.jsx)("p",{className:"text-text-200 text-sm",children:(0,s.jsx)(b.A,{defaultMessage:"This Canvas instance will remain configured and can be re-enabled at any time.",id:"a5jT7TDFXC"})})]}),(0,s.jsxs)(v.vW,{children:[(0,s.jsx)(r.$,{variant:"danger",onClick:()=>n(a.id),loading:l,children:(0,s.jsx)(b.A,{defaultMessage:"Disable Canvas Instance",id:"/71AtmCEAt"})}),(0,s.jsx)(r.$,{variant:"secondary",onClick:t,children:(0,s.jsx)(b.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var p=t(0xc6d46d69),j=t(0x22ee7349c);function y(e){let{platform:a,onClose:t,onConfirm:n,loading:l}=e,i=(e=>{let a=e.match(/^https?:\/\/([^.]+)\.instructure\.com/);return(null==a?void 0:a[1])||e})(a.issuer);return(0,s.jsxs)(v.aF,{isOpen:!0,onClose:t,modalSize:"md",title:(0,s.jsxs)("div",{className:"flex gap-2 items-center text-accent-secondary-000",children:[(0,s.jsx)(j.r,{size:20,weight:"bold"}),(0,s.jsx)(b.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})]}),children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("p",{className:"text-text-000",children:(0,s.jsx)(b.A,{defaultMessage:"Are you sure you want to enable the Canvas instance ‘{platformName}’?",id:"sltSpK2pM1",values:{platformName:a.name||i}})}),(0,s.jsxs)("div",{className:"p-3 bg-accent-main-100 border border-accent-main-200 rounded-lg",children:[(0,s.jsx)("p",{className:"text-text-000 text-sm font-medium mb-2",children:(0,s.jsx)(b.A,{defaultMessage:"This will:",id:"+yrIUjrxTS"})}),(0,s.jsxs)("ul",{className:"text-text-000 text-sm space-y-1 list-disc ml-4",children:[(0,s.jsx)("li",{children:(0,s.jsx)(b.A,{defaultMessage:"Restore Claude access from Canvas for this instance",id:"6gypIwnFmn"})}),(0,s.jsx)("li",{children:(0,s.jsx)(b.A,{defaultMessage:"Allow users to launch Claude from Canvas again",id:"/aTphs8E3Z"})}),(0,s.jsx)("li",{children:(0,s.jsx)(b.A,{defaultMessage:"Reactivate the LTI integration for all users in your organization",id:"jX7w8Etxw8"})})]})]})]}),(0,s.jsxs)(v.vW,{children:[(0,s.jsx)(r.$,{variant:"primary",onClick:()=>n(a.id),loading:l,children:(0,s.jsx)(b.A,{defaultMessage:"Enable Canvas Instance",id:"x5ntJF/m/o"})}),(0,s.jsx)(r.$,{variant:"secondary",onClick:t,children:(0,s.jsx)(b.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}var C=t(0xb0c19b65),A=t(0x180e403f7),M=t(0x79e7d0e6),S=function(e){return e[e.DISCONNECT=0]="DISCONNECT",e[e.REMOVE=1]="REMOVE",e[e.DISABLE=2]="DISABLE",e[e.EDIT_CANVAS=3]="EDIT_CANVAS",e[e.DISABLE_CANVAS=4]="DISABLE_CANVAS",e[e.ENABLE_CANVAS=5]="ENABLE_CANVAS",e[e.CLEAR_CACHE=6]="CLEAR_CACHE",e}({});function I(e){var a,t;let{type:v,server:g,actions:b}=e,j=(0,f.A)(),S=(0,d.V)(),[I,N]=(0,u.useState)(void 0),_=()=>N(void 0),{activeOrganization:w}=(0,n.YL)(),{addError:E,addSuccess:D}=(0,l.Yf)(),{mutate:L}=(0,m.he)(null!=(a=null==w?void 0:w.uuid)?a:"",null!=(t=null==g?void 0:g.uuid)?t:"",{onSuccess:()=>{D(j.formatMessage({defaultMessage:"Cache cleared",id:"Ladz5W7h+I"}))},onError:e=>{E(j.formatMessage({defaultMessage:"Failed to clear cache. You can try again.",id:"YW6eYJEIpn"}),{error:e,errorContext:{tags:{source:"clear_mcp_cache"}},messageForLogging:"Failed to clear cache."})}}),k=(0,u.useCallback)(()=>{L()},[L]),{data:F}=(0,x.sr)(),T=(0,x.oo)({onSuccess:_}),O=(0,x.Ks)({onSuccess:_}),Y=(0,x.LK)({onSuccess:_}),z=null==F?void 0:F[0];if(0===b.length)return;let Q={0:j.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),2:j.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),1:j.formatMessage({defaultMessage:"Remove",id:"G/yZLul6P1"}),3:j.formatMessage({defaultMessage:"Edit",id:"wEQDC6Wv3/"}),4:j.formatMessage({defaultMessage:"Disable",id:"Rw7iI7vYlr"}),5:j.formatMessage({defaultMessage:"Enable",id:"TqSTI0/TZI"}),6:j.formatMessage({defaultMessage:"Clear cache",id:"6jMb8M9Mbo"})},V=null;switch(I){case 0:V=(0,s.jsx)(A.m,{type:v,server:g,onClose:_});break;case 2:V=(0,s.jsx)(C.u,{type:v,onClose:_});break;case 1:V=(0,s.jsx)(M.f,{server:g,onClose:_});break;case 3:V=z?(0,s.jsx)(p.S,{platform:z,onClose:_,onSubmit:(e,a,t,s)=>{T.mutate({platformId:e,canvas_url:a,client_id:t,name:"".concat(a," Canvas"),deployment_ids:[s]})},loading:T.isPending}):null;break;case 4:V=z?(0,s.jsx)(h,{platform:z,onClose:_,onConfirm:e=>{Y.mutate({platformId:e,is_active:!1})},loading:Y.isPending}):null;break;case 5:V=z?(0,s.jsx)(y,{platform:z,onClose:_,onConfirm:e=>{O.mutate({platformId:e,is_active:!0})},loading:O.isPending}):null}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.ms,{align:"end",trigger:(0,s.jsx)(r.$,{size:"icon",variant:"secondary","aria-label":g?j.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:g.name}):j.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,s.jsx)(c.H,{size:16,weight:"bold"})}),children:b.map(e=>(0,s.jsx)(i.tJ,{className:(0,o.A)("min-w-[175px]",[0,2,1,4].includes(e)&&"text-danger-000"),onClick:()=>{if(1===e&&(null==g?void 0:g.type)==="local"&&S){var a,t;null==(t=window.claudeAppBindings)||null==(a=t.openMcpSettings)||a.call(t,g.name)}else 6===e?k():N(e)},children:Q[e]},e))}),V]})}},0x1b6c1d723:(e,a,t)=>{t.d(a,{E:()=>i});var s=t(0x22102fd88),n=t(0x246846ae8),l=t(0x1ab0d1ca1),r=t(0x38e6572);function i(e){let{domain:a,setDomain:t,clientId:i,setClientId:d,deploymentId:c,setDeploymentId:o}=e,u=(0,l.A)();return(0,s.jsxs)("div",{className:"flex flex-col gap-3 mt-2",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(n.ks,{required:!0,label:u.formatMessage({defaultMessage:"Canvas Domain",id:"Aok65+sKzA"}),placeholder:u.formatMessage({defaultMessage:"https://school.instructure.com or https://canvas.myschool.edu",id:"VAjV+8SnM6"}),value:a,onValueChange:e=>t(e||""),onBlur:()=>t(a.trim())}),(0,s.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,s.jsx)(r.A,{defaultMessage:"Enter your Canvas domain (e.g., ‘https://school.instructure.com’ for hosted Canvas or ‘https://canvas.myschool.edu’ for self-hosted)",id:"uFbHowgMW9"})})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(n.ks,{required:!0,label:u.formatMessage({defaultMessage:"Client ID",id:"U5+MBCY8VU"}),placeholder:u.formatMessage({defaultMessage:"00000000000000",id:"BLrL/pjQgI"}),value:i,onValueChange:e=>d(e||""),onBlur:()=>d(i.trim())}),(0,s.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,s.jsx)(r.A,{defaultMessage:"The Client ID from your Canvas LTI app registration (found in Canvas Admin > Developer Keys)",id:"iV5X/WX6MA"})})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(n.ks,{required:!0,label:u.formatMessage({defaultMessage:"Deployment ID",id:"/h+RD9WlzS"}),placeholder:u.formatMessage({defaultMessage:"1",id:"Tf9Oo0DwqC"}),value:c,onValueChange:e=>o(e||""),onBlur:()=>o(c.trim())}),(0,s.jsx)("p",{className:"text-text-200 text-sm mt-1",children:(0,s.jsx)(r.A,{defaultMessage:"The Deployment ID for your Canvas LTI integration",id:"iLMNAW31CI"})})]})]})}},0x1cd2ec21c:(e,a,t)=>{t.d(a,{r:()=>d});var s=t(0x22102fd88),n=t(0x1a1f6dda6),l=t(0x1ea21c42d),r=t.n(l),i=t(0xfc89b4a4);function d(e){let{direction:a="vertical",disabled:t,containerClassName:l,className:d,gradientHeight:c=24,hideTopGradient:o=!1,hideBottomGradient:u=!1,contentHeightMayChange:f=!1,containerHeightMayChange:x=!1,children:m,...v}=e,g=(0,i.useRef)(null),b=(0,i.useRef)(null),[h,p]=(0,i.useState)(!0),[j,y]=(0,i.useState)(!0),C=(0,i.useRef)(h),A=(0,i.useRef)(j),M=r()((0,i.useCallback)(()=>{let e=b.current;e&&(("vertical"===a?e.scrollHeight-e.scrollTop-e.clientHeight<=1:e.scrollWidth-e.scrollLeft-e.clientWidth<=1)?C.current||(p(!0),C.current=!0):C.current&&(p(!1),C.current=!1),("vertical"===a?e.scrollTop:e.scrollLeft)<=0?A.current||(y(!0),A.current=!0):A.current&&(y(!1),A.current=!1))},[a]),150);return(0,i.useEffect)(()=>{M()},[M]),(0,i.useEffect)(()=>{if(!g.current||!f)return;let e=new ResizeObserver(M);return e.observe(g.current),()=>{e.disconnect()}},[M,f]),(0,i.useEffect)(()=>{if(!b.current||!x)return;let e=new ResizeObserver(M);return e.observe(b.current),()=>{e.disconnect()}},[M,x]),(0,s.jsx)("div",{style:{maskImage:t?void 0:"linear-gradient(to ".concat("vertical"===a?"bottom":"right",", transparent 0%, black ").concat(j||o?0:c,"px, black calc(100% - ").concat(h||u?0:c,"px), transparent 100%)")},className:(0,n.A)("vertical"===a?"min-h-0":"min-w-0",l),children:(0,s.jsx)("div",{onScroll:t?void 0:M,ref:b,className:(0,n.A)("vertical"===a?"overflow-y-auto overflow-x-hidden min-h-0":"overflow-x-auto overflow-y-hidden min-w-0",d),...v,children:f?(0,s.jsx)("div",{ref:g,children:m}):m})})}},0x1d4204d53:(e,a,t)=>{t.d(a,{f:()=>s.f});var s=t(0x1a80afddd)},0x21a557d5c:(e,a,t)=>{t.d(a,{AW:()=>u,Ks:()=>x,LK:()=>m,oo:()=>f,sr:()=>o});var s=t(0x12c9046cd),n=t(0x14de19ae8),l=t(0xc1dd9efc),r=t(0xac309a83),i=t(0x17e725145);let d="lti_platforms";function c(){return(0,r.fS)("claude_ai_velvet_accordion")}let o=()=>{let{activeOrganization:e,account:a}=(0,n.YL)(),t=null==e?void 0:e.uuid,r=(0,l.yI)(a,e,l.Nt.OrganizationManage),i=c();return(0,s.Sk)("/api/organizations/".concat(t,"/lti/platforms"),{queryKey:[d,{orgUuid:t}],enabled:!!e&&!!t&&r&&i})},u=e=>{let a=(0,i.useQueryClient)(),{activeOrganization:t}=(0,n.YL)(),l=null==t?void 0:t.uuid,r=c();return(0,s.L2)("/api/organizations/".concat(l,"/lti/platforms"),"PUT",{enabled:r,onSuccess:e=>{a.setQueryData([d,{orgUuid:l}],a=>a?[...a,e]:[e]),a.invalidateQueries({queryKey:[d]})},onSettled:(e,t)=>{e&&!t&&(a.setQueryData([d,{orgUuid:l}],a=>a?[...a,e]:[e]),a.invalidateQueries({queryKey:[d]}))},...e})},f=e=>{let a=(0,i.useQueryClient)(),{activeOrganization:t}=(0,n.YL)(),l=null==t?void 0:t.uuid,r=c();return(0,s.L2)(e=>{let{platformId:a}=e;return"/api/organizations/".concat(l,"/lti/platforms/").concat(a)},"POST",{enabled:r,onSuccess:(e,t)=>{a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let s=a.findIndex(e=>e.id===t.platformId);if(-1!==s){let t=[...a];return t[s]=e,t}return a}),a.invalidateQueries({queryKey:[d]})},onSettled:(e,t,s)=>{e&&!t&&(a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let t=a.findIndex(e=>e.id===s.platformId);if(-1!==t){let s=[...a];return s[t]=e,s}return a}),a.invalidateQueries({queryKey:[d]}))},...e})},x=e=>{let a=(0,i.useQueryClient)(),{activeOrganization:t}=(0,n.YL)(),l=null==t?void 0:t.uuid,r=c();return(0,s.L2)(e=>{let{platformId:a}=e;return"/api/organizations/".concat(l,"/lti/platforms/").concat(a)},"POST",{enabled:r,onMutate:e=>e,onSuccess:(e,t)=>{a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let s=a.findIndex(e=>e.id===t.platformId);if(-1!==s){let t=[...a];return t[s]=e,t}return a}),a.invalidateQueries({queryKey:[d]})},onError:()=>{},onSettled:(e,t,s)=>{e&&!t&&(a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let t=a.findIndex(e=>e.id===s.platformId);if(-1!==t){let s=[...a];return s[t]=e,s}return a}),a.invalidateQueries({queryKey:[d]}))},...e})},m=e=>{let a=(0,i.useQueryClient)(),{activeOrganization:t}=(0,n.YL)(),l=null==t?void 0:t.uuid,r=c();return(0,s.L2)(e=>{let{platformId:a}=e;return"/api/organizations/".concat(l,"/lti/platforms/").concat(a)},"POST",{enabled:r,onMutate:e=>e,onSuccess:(e,t)=>{a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let s=a.findIndex(e=>e.id===t.platformId);if(-1!==s){let t=[...a];return t[s]=e,t}return a}),a.invalidateQueries({queryKey:[d]})},onError:()=>{},onSettled:(e,t,s)=>{e&&!t&&(a.setQueryData([d,{orgUuid:l}],a=>{if(!a)return[e];let t=a.findIndex(e=>e.id===s.platformId);if(-1!==t){let s=[...a];return s[t]=e,s}return a}),a.invalidateQueries({queryKey:[d]}))},...e})}}}]);