try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b60a0d6b-8dbd-4fca-9672-3e28e1ae1763",e._sentryDebugIdIdentifier="sentry-dbid-b60a0d6b-8dbd-4fca-9672-3e28e1ae1763")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[79038],{0x401a1006:(e,t,s)=>{s.d(t,{l:()=>a.l});var a=s(0x3fb05180)},0x4c16bf80:(e,t,s)=>{s.d(t,{N:()=>i});var a=s(0x22102fd88),n=s(0xeefd50e9),l=s(0xb92ca58e);let i=e=>{let{isDetailedView:t,directoryServer:s,handleAddFirstPartyServer:i,handleRemoveFirstPartyServer:r,handleConnectFirstPartyServer:o,handleDisconnectFirstPartyServer:d}=e,{syncSourceType:c}=s,{enabledForOrg:u,connected:m}=(0,n.Ou)()[c]||{};return(0,a.jsx)(l.i,{handleAdd:()=>i(c),handleRemove:()=>r(c),handleConnect:()=>o(c),handleDisconnect:()=>d(c),isInstalled:u,isConnected:m,isDetailedView:t,connectedByDefault:!1})}},0x5d793911:(e,t,s)=>{s.d(t,{O:()=>l,U:()=>i});var a=s(0xfc89b4a4),n=s(0x1950735db);let l=()=>{let e=(0,a.useContext)(n.O);if(!e)throw Error("useExtensions must be used within ExtensionsProvider");return e},i=()=>{let{extensions:e,setExtensionSettings:t}=l();return async s=>{let a=e.find(e=>e.id===s);if(!a)return;let n=a.settings||{};await t(s,{...n,isEnabled:!n.isEnabled})}}},0x8f611b15:(e,t,s)=>{s.d(t,{DY:()=>d,g5:()=>o});var a=s(0x14de19ae8),n=s(0xfc89b4a4);let l="https://support.claude.com/en/articles/11725091-when-to-use-desktop-and-web-connectors",i="You understand that:\n- By adding this connector, the developer or other third parties may have access to the data submitted to or made available through the connector.\n- You are responsible for ensuring your organization has appropriate agreements to share data and have trained your workforce on how to use these features in accordance with applicable laws, legal requirements, and your internal compliance policies and procedures.\n- Anthropic is not responsible for third-party data handling.\n- Anthropic reviews connectors in its directory in accordance with its [MCP Directory Policy](".concat("https://support.claude.com/en/articles/11697096-anthropic-mcp-directory-policy",") and does not enter into BAAs with MCP Providers.\n\n[Learn more about pre-built connectors](").concat("https://support.claude.com/en/articles/11176164-pre-built-web-connectors-using-remote-mcp",") and [when to use desktop and web connectors.](").concat(l,")"),r="You understand that:\n- By adding this connector, your users, the developer, or other third parties may have access to the data submitted to or made available through the connector.\n- You are responsible for ensuring your organization has appropriate access controls, agreements to share data (if applicable), and have trained your workforce on how to use these features in accordance with applicable laws, legal requirements, and your internal compliance policies and procedures.\n- If you are connecting to internal tools and information, make sure these systems are in scope for your internal HIPAA compliance program.\n- Anthropic is not responsible for your or third-party data handling and does not evaluate these connectors or enter into Business Associate Agreements with MCP Providers.\n- Anthropic will not be liable for your use or any loss, damage, or liability arising from your workforce's use of connectors.\n\n[Learn more about custom connectors](".concat("https://support.claude.com/en/articles/11175166-getting-started-with-custom-connectors-using-remote-mcp",") and [when to use desktop and web connectors.](").concat(l,")"),o=e=>"directory"===e?i:r,d=()=>{let e=(0,a.EK)("taint:hipaa_regulated"),t=(0,n.useCallback)(t=>e?[{type:"safe_for_phi",content_hash:"directory"===t?"026c416dc671602e7f2c70f3915f1b907d8bb1bf17d39abfac5db8a41cb8d118":"46d945e590f9903a485ea154b2e883af7d1bf4614c8d502c3a25c4069f3e9254"}]:[],[e]);return{isHipaaRegulated:e,createAttestation:t}}},0x8f813b9c:(e,t,s)=>{s.d(t,{A:()=>a.A,N:()=>a.N});var a=s(0x61ffd922)},0x92f6a5c5:(e,t,s)=>{s.d(t,{r:()=>o});var a=s(0x22102fd88),n=s(0x225bae024),l=s(0x1b370f49d),i=s(0x1a1f6dda6),r=s(0x38e6572);let o=e=>{let{onClick:t,className:s,children:o,disabled:d,...c}=e;return(0,a.jsx)(l.m,{tooltipContent:!d&&(0,a.jsx)(r.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"}),children:(0,a.jsx)(n.$,{className:(0,i.A)("!border-border-300 !rounded-lg",d?"!text-text-400":"hover:!bg-bg-200",s),disabled:d,onClick:e=>{e.stopPropagation(),null==t||t(e)},variant:"secondary",size:"icon_sm",...c,children:o})})}},0x9db246b7:(e,t,s)=>{s.d(t,{k:()=>i});var a=s(0x22102fd88),n=s(0xb92ca58e),l=s(0xe824fb1c);let i=e=>{let{isDetailedView:t,directoryServer:s,handleAddRemoteServer:i,handleRemoveRemoteServer:r,handleConnectRemoteServer:o,handleDisconnectRemoteServer:d}=e,c=(0,l.Uz)({type:"remote",directoryUuid:s.uuid})[0],u=!!c,m=!!(null==c?void 0:c.isConnected),x=!!c&&m&&!c.usedAuthentication;return(0,a.jsx)(n.i,{handleAdd:()=>i(s.uuid),handleRemove:()=>r(s.uuid),handleConnect:()=>o(s.uuid),handleDisconnect:()=>d(s.uuid),isInstalled:u,isConnected:m,isDetailedView:t,connectedByDefault:x})}},0xb92ca58e:(e,t,s)=>{s.d(t,{i:()=>m});var a=s(0x22102fd88),n=s(0x14de19ae8),l=s(0x225bae024),i=s(0x1b370f49d),r=s(0x141440998),o=s(0x88148a10),d=s(0x38e6572),c=s(0x25062734b),u=s(0x92f6a5c5);let m=e=>{let{isDetailedView:t,handleAdd:s,handleRemove:m,handleConnect:x,handleDisconnect:f,isInstalled:p,isConnected:h,connectedByDefault:g}=e,v=(0,c.vx)(),b=(0,n.mV)();if("free"===(0,n.$b)())return t?(0,a.jsx)(l.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",href:"/upgrade?open_in_browser=1",target:"_blank",children:(0,a.jsx)(d.A,{defaultMessage:"Upgrade to connect",id:"33HAnsQE8u"})}):void 0;let y=!v&&!p;if(b&&v)if(p)return t?(0,a.jsx)(l.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",onClick:m,children:(0,a.jsx)(d.A,{defaultMessage:"Remove from your team",id:"dl4er/5ODx"})}):(0,a.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-accent-secondary-100"});else return t?(0,a.jsx)(l.$,{variant:"primary",size:"sm",className:"!rounded-lg !text-sm",onClick:s,children:(0,a.jsx)(d.A,{defaultMessage:"Add to your team",id:"Bq/DQi0LBe"})}):null;if(b&&!v)if(g)return t?(0,a.jsx)(l.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",disabled:!0,children:(0,a.jsx)(d.A,{defaultMessage:"Connected by default",id:"VqhPBBbJWk"})}):(0,a.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-text-500"});else if(h)return t?(0,a.jsx)(l.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",onClick:f,children:(0,a.jsx)(d.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})}):(0,a.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-text-500"});else return t?(0,a.jsx)(i.m,{tooltipContent:y?(0,a.jsx)(d.A,{defaultMessage:"Ask your admin to add this for your team",id:"q273cUNkwo"}):void 0,children:(0,a.jsx)("div",{children:(0,a.jsx)(l.$,{variant:"primary",size:"sm",className:"!rounded-lg !text-sm",disabled:y,onClick:x,children:(0,a.jsx)(d.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"})})})}):(0,a.jsx)(i.m,{tooltipContent:y?(0,a.jsx)(d.A,{defaultMessage:"Ask your admin to add this for your team",id:"q273cUNkwo"}):void 0,children:(0,a.jsx)("div",{children:(0,a.jsx)(u.r,{disabled:y,onClick:x,children:(0,a.jsx)(o.c,{size:16})})})});if(!b)if(p&&h)return t?(0,a.jsx)(l.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",onClick:m,children:(0,a.jsx)(d.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})}):(0,a.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-text-500"});else return t?(0,a.jsx)(l.$,{variant:"primary",size:"sm",className:"!rounded-lg !text-sm",onClick:p?x:s,children:(0,a.jsx)(d.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"})}):(0,a.jsx)(u.r,{onClick:p?x:s,children:(0,a.jsx)(o.c,{size:16})})}},0xcfcbb517:(e,t,s)=>{s.d(t,{x:()=>r});var a=s(0x2252bfeb8),n=s(0xfc89b4a4),l=s(0xd1a44e2e),i=s(0x1b910c896);let r=(null===a.Fd||void 0===a.Fd?void 0:a.Fd.getManifestCompatibilityResult)?e=>{let[t,s]=(0,n.useState)(null),[l,i]=(0,n.useState)(null);return((0,n.useEffect)(()=>{if(s(null),i(null),e){var t;null===a.Fd||void 0===a.Fd||null==(t=a.Fd.getManifestCompatibilityResult)||t.call(a.Fd,e).then(e=>{i(e)}).catch(e=>{s(e)})}},[e]),t)?{state:"error",error:t}:l?{state:"loaded",result:l}:{state:"loading"}}:e=>{var t,s;let a=c({manifest:e}),n=u(e,a.compatibility);return a.isChecking?{state:"loading"}:a.error?{state:"error",error:a.error}:{state:"loaded",result:{compatible:null!=(s=null==(t=a.compatibility)?void 0:t.compatible)&&s,requirements:n}}};var o=function(e){return e.platformMismatch="platform-mismatch",e.nodeVersionMismatch="node-version-mismatch",e.builtInNodeVersionMismatch="built-in-node-version-mismatch",e.noNodeInstalledAndNotNodeCommand="no-node-installed-and-not-node-command",e.noNodeAndNoBuiltInNode="no-node-and-no-built-in-node",e.pythonVersionMismatch="python-version-mismatch",e.noPythonInstalled="no-python-installed",e.claudeVersionMismatch="claude-version-mismatch",e.manifestVersionMismatch="manifest-version-mismatch",e}(o||{});let d=async e=>{try{var t;let s=await (null===a.Fd||void 0===a.Fd||null==(t=a.Fd.getCompatibilityCheckResult)?void 0:t.call(a.Fd));return function(e,t){var s,a,n;let r=[];if(!t)return r.push("claude-version-mismatch"),{compatible:!1,errorCodes:r};let o=function(e){var t;if(!(null==(t=e.compatibility)?void 0:t.platforms))return{compatible:!0};let s=(0,i.uV)();return s&&e.compatibility.platforms.includes(s)?{compatible:!0}:{compatible:!1,errorCodes:["platform-mismatch"]}}(e);!o.compatible&&o.errorCodes&&r.push(...o.errorCodes);let d=(s=e,a=t,(null==(n=s.compatibility)?void 0:n.claude_desktop)&&a.appVersion?(0,l.satisfies)(a.appVersion,s.compatibility.claude_desktop)?{compatible:!0}:{compatible:!1,errorCodes:["claude-version-mismatch"]}:{compatible:!0});!d.compatible&&d.errorCodes&&r.push(...d.errorCodes);let c=function(e,t){if(!t.supportedLatestMcpbManifestVersion)return{compatible:!0};let s=e.manifest_version||e.dxt_version;if(!s)return{compatible:!0};let a=parseFloat(String(s)),n=parseFloat(t.supportedLatestMcpbManifestVersion);return isNaN(a)||isNaN(n)?{compatible:!0}:a>n?{compatible:!1,errorCodes:["manifest-version-mismatch"]}:{compatible:!0}}(e,t);if(!c.compatible&&c.errorCodes&&r.push(...c.errorCodes),"node"===e.server.type){let s=function(e,t){var s,a;if("node"!==e.server.type)return{compatible:!0};let n=e.server.mcp_config.command,{builtInNodeVersion:i,nodeVersion:r}=t,o=null==(a=e.compatibility)||null==(s=a.runtimes)?void 0:s.node;if(r&&(!o||o&&(0,l.satisfies)(r,o)))return{compatible:!0};if(i){let e=n&&/^node(\.exe)?$/.test(n),t=!o||(0,l.satisfies)(i,o);return e||r?t?{compatible:!0}:{compatible:!1,errorCodes:["built-in-node-version-mismatch"]}:{compatible:!1,errorCodes:["no-node-installed-and-not-node-command"]}}return r||i?{compatible:!0}:{compatible:!1,errorCodes:["no-node-and-no-built-in-node"]}}(e,t);!s.compatible&&s.errorCodes&&r.push(...s.errorCodes)}else if("python"===e.server.type){let s=function(e,t){var s,a;if("python"!==e.server.type)return{compatible:!0};let{pythonVersion:n}=t,i=null==(a=e.compatibility)||null==(s=a.runtimes)?void 0:s.python;return n?i?(0,l.satisfies)(n,i)?{compatible:!0}:{compatible:!1,errorCodes:["python-version-mismatch"]}:{compatible:!0}:{compatible:!1,errorCodes:["no-python-installed"]}}(e,t);!s.compatible&&s.errorCodes&&r.push(...s.errorCodes)}return{compatible:0===r.length,...r.length>0&&{errorCodes:r}}}(e,s||null)}catch(e){return{compatible:!1,errorCodes:["claude-version-mismatch"]}}},c=e=>{let{manifest:t}=e,[s,a]=(0,n.useState)(null),[l,i]=(0,n.useState)(!1),[r,o]=(0,n.useState)(null),c=(0,n.useCallback)(async()=>{if(!t)return void a(null);i(!0),o(null);try{let e=await d(t);a(e)}catch(e){o(e instanceof Error?e:Error("Failed to check compatibility")),a(null)}finally{i(!1)}},[t]);return(0,n.useEffect)(()=>{t?c():(a(null),i(!1),o(null))},[t,c]),{compatibility:s,isChecking:l,error:r}},u=(e,t)=>{var s,a;let n=[],l=(0,i.uV)();if(!e||((e.manifest_version||e.dxt_version)&&n.push({name:"an update to Claude Desktop",met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("manifest-version-mismatch")}),!e.compatibility))return n;if(e.compatibility.platforms&&e.compatibility.platforms.length>0&&l){let s={win32:"Windows",darwin:"macOS",linux:"Linux"},a=s[l]||l,i=e.compatibility.platforms.map(e=>s[e]||e).join(", "),r=!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("platform-mismatch");n.push({name:r?a:i,met:r})}if(e.compatibility.claude_desktop&&n.push({name:"Claude Desktop ".concat(e.compatibility.claude_desktop),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("claude-version-mismatch")}),"node"===e.server.type&&(null==(s=e.compatibility.runtimes)?void 0:s.node)){let s=["node-version-mismatch","no-node-installed-and-not-node-command","no-node-and-no-built-in-node","built-in-node-version-mismatch"];n.push({name:"Node.js ".concat(e.compatibility.runtimes.node),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(e=>s.includes(e))})}else if("node"===e.server.type){let e=["no-node-installed-and-not-node-command","no-node-and-no-built-in-node"];n.push({name:"Node.js",met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(t=>e.includes(t))})}if("python"===e.server.type&&(null==(a=e.compatibility.runtimes)?void 0:a.python)){let s=["python-version-mismatch","no-python-installed"];n.push({name:"Python ".concat(e.compatibility.runtimes.python),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(e=>s.includes(e))})}else"python"===e.server.type&&n.push({name:"Python",met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("no-python-installed")});return n}},0x102661e8c:(e,t,s)=>{s.d(t,{X:()=>c});var a=s(0x22102fd88),n=s(0x139b5e710),l=s(0x225bae024),i=s(0x2252bfeb8),r=s(0xfc89b4a4),o=s(0x1ab0d1ca1),d=s(0x38e6572);let c=e=>{let{extension:t,size:s="normal",style:c}=e,u=(0,o.A)(),{addError:m}=(0,n.Yf)(),[x,f]=(0,r.useState)(null),[p,h]=(0,r.useState)(!0),[g,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!t.id)return h(!1);try{var e;let s=await (null===i.Fd||void 0===i.Fd||null==(e=i.Fd.getIsUpdateAvailable)?void 0:e.call(i.Fd,t.id,t.manifest))||null;f(s)}catch(e){m((0,a.jsx)(d.A,{defaultMessage:"Failed to check for extension updates",id:"qmTCOIrDRY",description:"Error message when checking for extension updates fails"}),{error:e})}finally{h(!1)}})()},[t,m]);let b=async()=>{if(t.id&&x){v(!0);try{var e;await (null===i.Fd||void 0===i.Fd||null==(e=i.Fd.installDxtFromDirectory)?void 0:e.call(i.Fd,t.id,x))}catch(e){m((0,a.jsx)(d.A,{defaultMessage:"Failed to update extension",id:"II6Ozv49Lo",description:"Error message when extension update fails"}),{error:e})}finally{v(!1)}}};if(p||!x)return null;let y=u.formatMessage({defaultMessage:"Update available to v{version}. You are currently on v{currentVersion}.",id:"2Fd2dxtEBo",description:"Title for extension update button"},{version:x,currentVersion:t.manifest.version});return(0,a.jsx)(l.$,{variant:"primary",disabled:g,onClick:b,title:y,style:c,children:g?u.formatMessage({defaultMessage:"Updating...",id:"yugrR4jIsZ",description:"Button text while updating extension"}):"small"===s?u.formatMessage({defaultMessage:"Update",id:"rQoNAJyEVw",description:"Button to update extension (short version)"}):u.formatMessage({defaultMessage:"Update to {version}",id:"Wur112HVmK",description:"Button to update extension to specific version"},{version:x})})}},0x104725fb5:(e,t,s)=>{s.d(t,{H:()=>M});var a=s(0x22102fd88),n=s(0x23977865),l=s(0x1bd175d8c),i=s(0x141440998),r=s(0x5d793911),o=s(0x225bae024),d=s(0xfc89b4a4),c=s(0x38e6572),u=s(0x194bec1ed),m=s(0x8f611b15);let x=e=>{let{directoryServer:t,onAddToAllowlist:s,onRemoveFromAllowlist:n}=e,{isHipaaRegulated:l,createAttestation:i}=(0,m.DY)(),[r,x]=(0,d.useState)(!1),f=(0,d.useCallback)(()=>{t.isAllowlisted?null==n||n(t.uuid):l?x(!0):null==s||s(t.uuid)},[t,s,n,l]),p=(0,d.useCallback)(()=>{let e=i("directory");null==s||s(t.uuid,e),x(!1)},[t.uuid,s,i]),h=(0,d.useCallback)(()=>{x(!1)},[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.$,{variant:"primary",size:"sm",onClick:f,children:t.isAllowlisted?(0,a.jsx)(c.A,{defaultMessage:"Remove from allowlist",id:"+IiLva9Ycy"}):(0,a.jsx)(c.A,{defaultMessage:"Add to your team",id:"Bq/DQi0LBe"})}),(0,a.jsx)(u.V,{isOpen:r,onClose:h,onContinue:p,serverName:t.name,connectorType:"directory"})]})};var f=s(0xf32c56dd),p=s(0x14de19ae8),h=s(0xbb84ce70),g=s(0x1b370f49d),v=s(0x2252bfeb8),b=s(0x1a1f6dda6),y=s(0x1ab0d1ca1),j=s(0xd1a44e2e),w=s(0xcfcbb517),C=s(0x1b910c896);let N=e=>{var t,s;let{directoryServer:n}=e,l=(0,y.A)(),{track:i}=(0,f.st)(),{activeOrganization:r}=(0,p.YL)(),[{installed:u,progress:m,installedVersion:x},N]=(0,d.useState)({installed:null,progress:null,installedVersion:null}),M=(0,w.x)(n.manifest),k="loaded"===M.state&&!1===M.result.compatible,A=("loaded"===M.state?M.result.requirements:[]).filter(e=>!e.met),F=null!=(s=null==r||null==(t=r.settings)?void 0:t.is_desktop_extension_allowlist_enabled)&&s,_=!!n.onDiskPath,S=F&&_,E=u&&x&&n.version&&n.onDiskPath&&j.gt(n.version,x);(0,d.useEffect)(()=>{var e;null===v.Fd||void 0===v.Fd||null==(e=v.Fd.onExtensionDownloadProgress)||e.call(v.Fd,(e,t)=>{e===n.uuid&&N(e=>({...e,installed:!1,progress:t}))})},[n.uuid]),(0,d.useEffect)(()=>{var e;N({installed:null,progress:null,installedVersion:null});let t=()=>{var e;null===v.Fd||void 0===v.Fd||null==(e=v.Fd.getInstalledExtensionsWithState)||e.call(v.Fd).then(e=>{let t=e.find(e=>e.id===n.uuid);N(e=>{var s;return{installed:!!t,progress:t?null:e.progress,installedVersion:null!=(s=null==t?void 0:t.manifest.version)?s:null}})})};return t(),null===v.Fd||void 0===v.Fd||null==(e=v.Fd.onExtensionsChanged)?void 0:e.call(v.Fd,t)},[n.uuid]);let D=(0,d.useCallback)(async()=>{var e,t,s,a,l,r,o;if(u&&!E)null===v.Fd||void 0===v.Fd||null==(e=v.Fd.deleteExtension)||e.call(v.Fd,n.uuid),N({installed:null,progress:null,installedVersion:null});else{n.onDiskPath?(null===v.Fd||void 0===v.Fd||null==(l=v.Fd.installExtensionFromPreview)||l.call(v.Fd,n.uuid,n.onDiskPath),N({installed:null,progress:null,installedVersion:null})):null===v.Fd||void 0===v.Fd||null==(r=v.Fd.installDxtFromDirectory)||r.call(v.Fd,n.uuid,null);let e=await (null===v.Fd||void 0===v.Fd||null==(t=v.Fd.getInstalledExtensionsWithState)?void 0:t.call(v.Fd)),d=(null!=(o=null==e?void 0:e.length)?o:0)+1,c=(0,C.k1)();i({event_key:"desktop_dxt_installed",extension_name:n.name,extension_author:(null==(s=n.author)?void 0:s.name)||"",extension_id:n.uuid,event_source:n.onDiskPath?"local_file":"directory",total_extensions_installed:d,app_version:c||"",extension_version:(null==(a=n.manifest)?void 0:a.version)||""})}},[n,u,E,i]);if(!1===u&&null!==m)return null;let z=null===u,q=(0,a.jsx)(o.$,{variant:"primary",size:"sm",className:(0,b.A)(null!==m&&"min-w-[8rem]","min-w-[6rem]"),onClick:D,disabled:null!==m||null===u||k||S,children:u?E?(0,a.jsx)(c.A,{defaultMessage:"Update",id:"BWpuKlRSA1"}):(0,a.jsx)(c.A,{defaultMessage:"Uninstall",id:"a8npXIgle+"}):z?(0,a.jsx)(h.j,{width:60,height:12}):(0,a.jsx)(c.A,{defaultMessage:"Install",id:"ubmFc8rrea"})});if(k&&!u||S){let e;if(S)e=l.formatMessage({defaultMessage:"This extension cannot be installed. Contact your organization owner.",id:"O3dmhm2fqZ"});else if(0===A.length)e=l.formatMessage({defaultMessage:"This extension is not compatible with your device.",id:"DyWnSo/uD3"});else if(1===A.length)e=l.formatMessage({defaultMessage:"This extension requires {requirement}.",id:"RWZ5Obf4In"},{requirement:A[0].name});else{let t=A.map(e=>e.name).join(", ");e=l.formatMessage({defaultMessage:"This extension requires: {requirements}.",id:"Tiuglra9gk"},{requirements:t})}return(0,a.jsx)(g.m,{tooltipContent:e,children:(0,a.jsx)("span",{className:"inline-block",children:q})})}return q},M=e=>{let{isDetailedView:t,directoryServer:s,isExtensionAdminView:o=!1,isAllowlistEnabled:d=!1,onAddToAllowlist:c,onRemoveFromAllowlist:u}=e,m=(0,l.V)(n.Wq),{extensions:f,isDirectoryEnabled:p}=(0,r.O)(),h=f.some(e=>e.id===s.uuid),g=!0===s.isAllowlisted;if(t)if(o&&d)return(0,a.jsx)(x,{directoryServer:s,onAddToAllowlist:c,onRemoveFromAllowlist:u});else if(m&&p)return(0,a.jsx)(N,{directoryServer:s});else return null;return(o?g:h)?(0,a.jsx)(i.S,{size:16,className:"transition-opacity m-2 text-accent-secondary-100"}):null}},0x1417f52d9:(e,t,s)=>{s.d(t,{W:()=>i});var a=s(0x17aa9d8d7),n=s(0x14de19ae8),l=s(0xfc89b4a4);function i(){let{mutate:e,isPending:t}=(0,a.yJ)(),{account:s}=(0,n.YL)();return{dismiss:(0,l.useCallback)(t=>{var a,n,l;s&&(null!=s&&null!=(n=s.settings)&&null!=(a=n.dismissed_claudeai_banners)&&a.some(e=>e.banner_id===t)||e({dismissed_claudeai_banners:[...(null==s||null==(l=s.settings)?void 0:l.dismissed_claudeai_banners)||[],{banner_id:t,dismissed_at:new Date().toISOString()}]}))},[s,e]),isDismissed:(0,l.useCallback)(e=>{var t,a;let n=(null==s||null==(a=s.settings)||null==(t=a.dismissed_claudeai_banners)?void 0:t.some(t=>t.banner_id===e))||!1;return n&&localStorage.removeItem(e),n},[s]),isPending:t}}},0x166125fbe:(e,t,s)=>{s.d(t,{u:()=>U});var a=s(0x22102fd88),n=s(0x401a1006),l=s(0x225bae024),i=s(0x1cd2ec21c),r=s(0x22fc8d729),o=s(0x1e1f2a153),d=s(0x23977865),c=s(0x1bd175d8c),u=s(0xa6a34c14),m=s(0x19078106),x=s(0x1a1f6dda6),f=s(0xfc89b4a4),p=s(0x38e6572),h=s(0x1ab0d1ca1),g=s(0x25062734b),v=s(0x1037073d3),b=s(0x214c6246e),y=s(0x141440998),j=s(0xcfcbb517);let w=e=>{let{manifest:t}=e,s=(0,j.x)(t);return t&&("loaded"!==s.state||0!==s.result.requirements.length)?(0,a.jsxs)("div",{className:"py-7 border-b-0.5 border-border-300",children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-2",children:(0,a.jsx)(p.A,{defaultMessage:"Requirements",id:"T/GrW3GRjO",description:"Extension requirements section header"})}),"loading"===s.state?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-text-300",children:[(0,a.jsx)(b.E,{size:16,className:"animate-spin"}),(0,a.jsx)(p.A,{defaultMessage:"Checking requirements...",id:"B3WNGMnvjq",description:"Loading state while checking extension requirements"})]}):"error"===s.state?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-text-300",children:[(0,a.jsx)(b.E,{size:16,className:"animate-spin"}),(0,a.jsx)(p.A,{defaultMessage:"Error checking requirements...",id:"zwTmNQr7gL",description:"Error state while checking extension requirements"})]}):s.result.compatible?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-success-000",children:[(0,a.jsx)(y.S,{size:16,weight:"bold"}),(0,a.jsx)(p.A,{defaultMessage:"All requirements met",id:"aTEJ6YhqYE",description:"Success message when all extension requirements are satisfied"})]}):(0,a.jsx)("div",{className:"space-y-2",children:s.result.requirements.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm ".concat(e.met?"text-success-000":"text-warning-200"),children:[e.met?(0,a.jsx)(y.S,{size:16,weight:"bold"}):(0,a.jsx)(u.i,{size:16,weight:"bold"}),(0,a.jsx)("span",{children:e.name})]},t))}),"loaded"===s.state&&!s.result.compatible&&(0,a.jsx)(n.l,{className:"w-full mt-4",message:(0,a.jsx)(p.A,{defaultMessage:"This extension may not work correctly until all requirements are met.",id:"6EFoZgFJFB",description:"Warning message when extension requirements are not met"})})]}):null};var C=s(0x8603234d);let N=e=>{let{markdown:t,className:s=""}=e;return t?(0,a.jsx)("div",{className:"".concat(s," [&_ul]:list-disc [&_ul]:pl-6 [&_ul]:my-2 [&_ol]:list-decimal [&_ol]:pl-6 [&_ol]:my-2 [&_li]:my-1 [&_p]:my-3 [&_p:first-child]:mt-0"),children:(0,a.jsx)(C.o,{className:"whitespace-pre-wrap",allowedElements:["p","br","strong","em","ul","ol","li","a","code","pre","h1","h2","h3","h4","h5","h6","blockquote"],components:{a:e=>{let{href:t,children:s}=e;if(!t||!t.startsWith("https://"))return(0,a.jsx)("span",{children:s});let n=String(s);return n===t||t.includes(n.replace(/\s/g,""))?(0,a.jsx)(r.Y,{href:t,target:"_blank",rel:"noopener noreferrer",children:s}):(0,a.jsxs)(r.Y,{href:t,target:"_blank",rel:"noopener noreferrer",children:[s," (",new URL(t).hostname,")"]})}},children:t})}):null};var M=s(0x5d793911),k=s(0xe824fb1c),A=s(0x4c16bf80),F=s(0x2471dc42f),_=s(0x8f813b9c),S=s(0x2252bfeb8),E=s(0x81a5987a),D=s(0x176ac88f),z=s(0x18c2bb2d),q=s(0x4d348f95),V=s(0xd09fadb8),P=s.n(V),O=s(0x102661e8c),I=s(0x183548b63),B=s(0x1eb0949d5);let R=e=>{let{isOpen:t,onClose:s,extension:n,server:l}=e,i=!n||(0,E.OO)({manifest:n.manifest,userConfig:n.settings.userConfig}),r=(0,f.useCallback)(()=>{i||s()},[i,s]),o=(0,f.useCallback)(async e=>{var t;if(!n)return;let a={...n.settings,userConfig:e};await (null===S.Fd||void 0===S.Fd||null==(t=S.Fd.setExtensionSettings)?void 0:t.call(S.Fd,n.id,a)),(0,E.OO)({manifest:n.manifest,userConfig:e})||s()},[n,s]);return n&&t&&l?(0,a.jsx)(I.aF,{isOpen:t,onClose:r,modalSize:"lg",title:(0,a.jsxs)("div",{className:"font-ui inline-flex flex-row gap-2 items-center text-xl",children:[(0,a.jsx)(p.A,{defaultMessage:"Configure",id:"9t1iivhk67"}),(0,a.jsxs)("div",{className:"inline-flex flex-row gap-1 items-center",children:[(0,a.jsx)(v.z,{size:30,imageSize:20,type:"external",src:l.iconUrl,name:l.name}),(0,a.jsxs)("span",{className:"font-normal",children:[" ",l.name]})]})]}),children:(0,a.jsx)(B.S,{manifest:n.manifest,settings:n.settings,onSave:async e=>{await o(e)},onCancel:s})}):null},T=e=>{let{directoryServer:t}=e,s=(0,h.A)(),{extensions:n}=(0,M.O)(),i=(0,q.useRouter)(),r=n.find(e=>e.id===t.uuid),[o,d]=(0,f.useState)(!1),c=(0,f.useCallback)(()=>{r&&i.push("/settings/desktop/extensions/".concat(r.id))},[i,r]),u=(0,M.U)(),m=(0,D.Z)(t.uuid),x=(0,D.Z)(r);(0,f.useEffect)(()=>{m===t.uuid&&!x&&r&&(0,E.OO)({manifest:r.manifest,userConfig:r.settings.userConfig})&&d(!0)},[t.uuid,x,m,r]);let[g,v]=(0,f.useState)(null);if((0,f.useEffect)(()=>{var e;null===S.Fd||void 0===S.Fd||null==(e=S.Fd.onExtensionDownloadProgress)||e.call(S.Fd,(e,s,a,n)=>{e===t.uuid&&v({progress:s,rBytes:a,tBytes:n})})},[t.uuid]),(0,f.useEffect)(()=>{v(null)},[t.uuid]),(0,f.useEffect)(()=>{r&&g&&v(null)},[g,r]),!r&&null!==g){let e=s.formatMessage({defaultMessage:"Installing...",id:"r9ELLACQn2"});return(0,a.jsx)(z.P.div,{initial:{height:0},animate:{height:"auto"},className:"overflow-hidden",children:(0,a.jsx)("div",{className:"flex items-center justify-between bg-bg-000 rounded-lg px-4 py-3 gap-4 mt-4",children:(0,a.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[g.tBytes?(0,a.jsx)("span",{className:"font-medium text-text-300 text-sm",children:e}):(0,a.jsx)(_.A,{className:"text-sm",children:e}),g.tBytes?(0,a.jsxs)("span",{className:"text-text-500 text-sm",children:[P()(g.rBytes,{maximumFractionDigits:1,locale:s.locale})," / ",P()(g.tBytes,{maximumFractionDigits:1,locale:s.locale})]}):null]}),(0,a.jsx)("div",{className:"bg-bg-500 w-full h-2 rounded-full p-0.5 overflow-hidden",children:(0,a.jsx)("div",{className:"bg-accent-secondary-200 h-full rounded-full transition-width duration-500",style:{width:"".concat(g.progress,"%")}})})]})})})}return r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-bg-000 rounded-lg px-4 py-3 gap-4 mt-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-3",children:!r.settings.isEnabled&&(0,E.OO)({manifest:r.manifest,userConfig:r.settings.userConfig})?(0,a.jsx)("span",{className:"text-sm text-accent-secondary-100",children:s.formatMessage({defaultMessage:"This connector needs to be configured before it can be enabled.",id:"IhPSab4yuz",description:"Message shown when required config is missing"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"inline-block",onClick:()=>{u(r.id)},children:(0,a.jsx)(F.j,{checked:r.settings.isEnabled,readOnly:!0})}),(0,a.jsx)("span",{className:"text-sm font-medium",children:r.settings.isEnabled?s.formatMessage({defaultMessage:"Enabled",id:"cnxLJKBabd",description:"Extension enabled status"}):s.formatMessage({defaultMessage:"Disabled",id:"4PQSGeQCas",description:"Extension disabled status"})})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(O.X,{extension:r}),(0,a.jsx)(l.$,{variant:"secondary",size:"sm",onClick:c,children:(0,a.jsx)(p.A,{defaultMessage:"Configure",id:"9t1iivhk67"})})]})]}),(0,a.jsx)(R,{isOpen:o,extension:r||null,server:t,onClose:()=>{d(!1)}})]}):null};var L=s(0x104725fb5),Y=s(0x9db246b7);let U=e=>{let{directoryServer:t,isExtensionAdminView:s=!1,isAllowlistEnabled:n=!1,...l}=e,r=(0,c.V)();return(0,a.jsxs)(i.r,{containerClassName:"max-h-full min-h-0 px-4 -mx-4",className:"max-h-full px-4 -mx-4 pb-10",children:[(0,a.jsx)(Z,{directoryServer:t,isExtensionAdminView:s,isAllowlistEnabled:n,...l}),"local"===t.type&&!s&&(0,a.jsx)(T,{directoryServer:t}),(0,a.jsx)($,{directoryServer:t,isExtensionAdminView:s}),"local"===t.type&&r&&!s?(0,a.jsx)(w,{manifest:t.manifest}):null,(0,a.jsx)(W,{directoryServer:t,shouldIncludeManifestName:s})]})},Z=e=>{let{directoryServer:t,isExtensionAdminView:s=!1,isAllowlistEnabled:l=!1,...i}=e,r=(0,c.V)(),{isDirectoryEnabled:o}=(0,M.O)(),{iconUrl:d,name:m,oneLiner:x}=t;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex sm:flex-row flex-col gap-y-6 gap-x-4 mt-[1.125rem]",children:[(0,a.jsxs)("div",{className:"flex flex-row no-wrap gap-4 grow",children:[(0,a.jsx)(v.z,{size:60,imageSize:34,name:m,..."local"===t.type?{type:"external",src:d}:"firstParty"===t.type?{type:"syncSource",src:t.syncSourceType}:{type:"favicon",src:d}}),(0,a.jsxs)("div",{className:"flex flex-col font-ui grow sm:mt-1",children:[(0,a.jsx)("p",{className:"text-text-100 text-2xl font-medium",children:m}),(0,a.jsx)("p",{className:"font-base text-text-400 leading-normal",children:x})]})]}),(0,a.jsx)("div",{className:"flex items-center",children:"remote"===t.type?(0,a.jsx)(Y.k,{isDetailedView:!0,directoryServer:t,...i}):"firstParty"===t.type?(0,a.jsx)(A.N,{isDetailedView:!0,directoryServer:t,...i}):(0,a.jsx)(L.H,{isDetailedView:!0,directoryServer:t,isExtensionAdminView:s,isAllowlistEnabled:l,onAddToAllowlist:i.handleAddToAllowlist,onRemoveFromAllowlist:i.handleRemoveFromAllowlist})})]}),"local"!==t.type||r||s?null:(0,a.jsx)(n.l,{className:"mt-6 w-full",message:(0,a.jsx)(p.A,{defaultMessage:"Get Claude for Desktop to use this extension",id:"pJ3vQABZxc"}),button:{href:"https://claude.ai/download",target:"_blank",children:(0,a.jsx)(p.A,{defaultMessage:"Download",id:"5q3qC0sC3r"})}}),"local"===t.type&&t.onDiskPath?(0,a.jsx)(n.l,{variant:"danger",className:"mt-6 w-full",message:(0,a.jsx)(p.A,{defaultMessage:"Installing will grant access to everything on your computer.",id:"V/YZmv6ycC"}),icon:u.i}):null,"local"!==t.type||o?null:(0,a.jsx)(n.l,{className:"mt-6 w-full",message:(0,a.jsx)(p.A,{defaultMessage:"The Extensions Directory has been disabled on this device. Please contact your IT administrator for more information.",id:"uOwKLoFioe",description:"Message shown when viewing a local extension but the directory is disabled"})})]})},$=e=>{let{directoryServer:t,isExtensionAdminView:s=!1}=e,n=(0,h.A)(),l=(0,g.vx)(),i=(0,c.V)(),r=(0,c.V)(d.Wq),o=(0,k.Uz)({type:"remote",directoryUuid:t.uuid})[0],u="remote"===t.type&&!l&&!o,{description:m,toolNames:f,promptNames:v,author:b}=t;return(0,a.jsxs)("div",{className:"flex flex-col gap-7 py-7 border-b-0.5 border-border-300",children:[!!u&&(0,a.jsx)(H,{children:(0,a.jsx)(p.A,{defaultMessage:"Ask your admin to add this for your team.",id:"Pf4A5vNvrs"})}),"local"===t.type&&i&&!r&&!s&&(0,a.jsx)(H,{children:(0,a.jsx)(p.A,{defaultMessage:"To install this extension, update to the latest version of Claude Desktop",id:"B9KzONSVUz",description:"update claude for desktop prompt to install desktop extensions"})}),(0,a.jsxs)("div",{className:"flex flex-col gap-6",children:[!!m&&(0,a.jsx)(N,{className:"text-text-300 text-base",markdown:m}),!!(null==b?void 0:b.name)&&(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("p",{className:"text-text-300 text-base font-medium",children:(0,a.jsx)(p.A,{defaultMessage:"Developed by <a></a>",id:"4MPJbn/XP2",values:{a:()=>(null==b?void 0:b.url)?(0,a.jsx)("span",{className:"text-accent-secondary-000",children:(0,a.jsx)(et,{name:b.name,url:b.url})}):b.name}})}),(0,a.jsx)("p",{className:"text-text-500 text-sm",children:"local"===t.type?(0,a.jsx)(p.A,{defaultMessage:"Only use extensions from developers you trust. Anthropic does not control which tools developers make available and cannot verify that they will work as intended or that they won't change.",id:"9/NIZHbeDd"}):(0,a.jsx)(p.A,{defaultMessage:"Only use connectors from developers you trust. Anthropic does not control which tools developers make available and cannot verify that they will work as intended or that they won't change.",id:"hqTrxTnjIg"})})]})]}),(0,a.jsx)("div",{className:"border-t-0.5 border-border-300"}),!!(f.length||v.length)&&(0,a.jsxs)("div",{className:(0,x.A)("grid gap-y-8 gap-x-4",f.length&&v.length?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"),children:[!!f.length&&(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(J,{title:n.formatMessage({defaultMessage:"Tools",id:"nUT0LvZVOx"}),count:f.length}),(0,a.jsx)(K,{items:f})]}),!!v.length&&(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(J,{title:n.formatMessage({defaultMessage:"Prompts",id:"p7buKPIFPB"}),count:v.length}),(0,a.jsx)(K,{items:v})]})]})]})},H=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"bg-bg-300 rounded-lg p-4 text-text-100 text-sm px-4 py-3",children:t})},W=e=>{var t;let{directoryServer:s,shouldIncludeManifestName:n=!1}=e,{didCopy:i,copyToClipboard:r}=(0,o.C)(),d=(0,h.A)(),{version:c,license:u,author:m,documentation:x,support:f,privacyPolicy:g}=s,v="remote"===s.type?s.url:null,b="local"===s.type&&null!=(t="privacy_policies"in s.manifest?s.manifest.privacy_policies:null)?t:[],y=b.length>0?b.map(e=>({name:d.formatMessage({defaultMessage:"Privacy Policy",id:"vx0nkZ8xpy"}),url:e})):g?[{name:d.formatMessage({defaultMessage:"Privacy Policy",id:"vx0nkZ8xpy"}),url:g}]:[],j=[...x?[{name:d.formatMessage({defaultMessage:"Documentation",id:"isGKnzG5uL"}),url:x}]:[],...f?[{name:d.formatMessage({defaultMessage:"Support",id:"HqRNN8pEq/"}),url:f}]:[],...y];return(0,a.jsxs)("div",{className:"flex flex-col gap-4 py-7",children:[(0,a.jsx)(Q,{children:(0,a.jsx)(p.A,{defaultMessage:"Details",id:"Lv0zJuL1jH"})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[n&&"local"===s.type&&!!s.manifest.name&&(0,a.jsx)(ee,{subheading:d.formatMessage({defaultMessage:"Name",id:"HAlOn1ZsuY"}),children:s.manifest.name}),!!c&&(0,a.jsx)(ee,{subheading:d.formatMessage({defaultMessage:"Version",id:"I3b4hnFnDd"}),children:c}),!!u&&(0,a.jsx)(ee,{subheading:d.formatMessage({defaultMessage:"License",id:"HBxXD/YXNW"}),children:u}),!!(null==m?void 0:m.name)&&(0,a.jsx)(ee,{subheading:d.formatMessage({defaultMessage:"Author",id:"tWkQ2JF/jQ"}),children:m.url?(0,a.jsx)(et,{name:m.name,url:m.url}):m.name}),!!v&&(0,a.jsx)(ee,{subheading:d.formatMessage({defaultMessage:"Connector URL",id:"CV2vjsP6Ub"}),children:(0,a.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[v,(0,a.jsx)(l.$,{size:"icon_sm",variant:"ghost",className:"bg-bg-100 hover:opacity-100 -my-2",onClick:()=>void r(v),children:(0,a.jsx)(o.u,{didCopy:i})})]})}),!!j.length&&(0,a.jsx)(ee,{subheading:d.formatMessage({defaultMessage:"More info",id:"HOsSgXORHL"}),children:j.map(e=>(0,a.jsx)(et,{name:e.name,url:e.url},e.name))})]})]})},K=e=>{var t,s;let{items:n}=e,l=f.useRef(null),i=f.useRef(null),[r,o]=(0,f.useState)(!1),[d,c]=(0,f.useState)(((null==(t=i.current)?void 0:t.offsetHeight)||0)>((null==(s=l.current)?void 0:s.offsetHeight)||0));return(0,f.useEffect)(()=>{var e,t;c(((null==(e=i.current)?void 0:e.offsetHeight)||0)>((null==(t=l.current)?void 0:t.offsetHeight)||0))},[n]),(0,a.jsxs)("div",{className:"flex flex-col gap-2.5 items-start",children:[(0,a.jsx)("div",{ref:l,className:(0,x.A)("w-full",!r&&"max-h-[6.5rem] overflow-hidden"),children:(0,a.jsx)("div",{ref:i,className:(0,x.A)("flex flex-row gap-2.5 flex-wrap"),children:n.map(e=>(0,a.jsx)(G,{children:e},e))})}),d&&!r&&(0,a.jsx)("button",{className:"text-text-300 hover:text-text-200 opacity-50 text-sm",onClick:()=>o(!0),children:(0,a.jsx)(p.A,{defaultMessage:"View all",id:"pFK6bJU0EM"})})]})},G=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"inline-flex items-center h-7 rounded-full px-3 bg-bg-300 border-border-300 border-0.5 min-w-0",children:(0,a.jsx)("p",{className:"text-text-300 text-sm overflow-hidden text-ellipsis",children:t})})},J=e=>{let{count:t,title:s}=e;return(0,a.jsxs)("div",{className:"flex flex-row items-center gap-2 mb-0.5",children:[(0,a.jsx)(Q,{children:s}),(0,a.jsx)("div",{className:"flex items-center rounded text-[0.8125rem] text-text-500 h-[1.125rem] px-[0.3125rem] bg-bg-300",children:t})]})},Q=e=>{let{children:t}=e;return(0,a.jsx)("h3",{className:"text-text-100 font-medium text-base",children:t})},X=e=>{let{children:t}=e;return(0,a.jsx)("h3",{className:"text-text-300 font-medium text-sm mb-0.5",children:t})},ee=e=>{let{subheading:t,children:s}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(X,{children:t}),(0,a.jsx)("div",{className:"flex flex-col gap-1 text-text-300 text-sm",children:s})]})},et=e=>{let{name:t,url:s}=e;return(0,a.jsxs)(r.Y,{href:s,target:"_blank",className:"inline-flex items-center gap-1",children:[t,(0,a.jsx)(m.k,{size:16})]})}},0x194bec1ed:(e,t,s)=>{s.d(t,{V:()=>m});var a=s(0x22102fd88),n=s(0xb323e954),l=s(0x225bae024),i=s(0x183548b63),r=s(0xfc89b4a4),o=s(0x1ab0d1ca1),d=s(0x38e6572),c=s(0x8603234d),u=s(0x8f611b15);let m=(0,r.memo)(e=>{let{isOpen:t,onClose:s,onContinue:m,serverName:x,connectorType:f,loading:p=!1}=e,h=(0,o.A)(),[g,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&v(!1)},[t,x]);let b=()=>{s(),v(!1)},y=(0,u.g5)(f),j="directory"===f?h.formatMessage({defaultMessage:"Grant Access to {serverName}",id:"QaZmSeioGe"},{serverName:x}):h.formatMessage({defaultMessage:"Grant Access to a Custom Connector",id:"WXWiETvvr+"}),w=(0,r.useMemo)(()=>({p:e=>{let{children:t}=e;return(0,a.jsx)("p",{className:"text-sm text-text-300 mb-3",children:t})},ul:e=>{let{children:t}=e;return(0,a.jsx)("ul",{className:"list-disc pl-5 space-y-2 text-sm text-text-300 mb-3",children:t})},li:e=>{let{children:t}=e;return(0,a.jsx)("li",{children:t})},a:e=>{let{href:t,children:s}=e;return(0,a.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-accent-secondary-100 hover:underline",children:s})}}),[]);return(0,a.jsx)(i.aF,{modalSize:"lg",isOpen:t,onClose:b,hasCloseButton:!0,className:"!p-8",title:j,children:(0,a.jsxs)("div",{className:"mt-5 space-y-4",children:[(0,a.jsx)(c.o,{components:w,children:y}),(0,a.jsx)("div",{className:"pt-2",children:(0,a.jsx)("div",{className:"bg-bg-200 rounded-lg p-4",children:(0,a.jsx)(n.S,{id:"hipaa-attestation-checkbox",checked:g,onChange:e=>v(e),label:(0,a.jsx)("span",{className:"text-sm text-text-300 font-medium",children:(0,a.jsx)(d.A,{defaultMessage:"I have reviewed and accept these terms",id:"Z6yCsHDbzB"})}),align:"start",labelClassName:"!items-center"})})}),(0,a.jsxs)("div",{className:"flex justify-end mt-6 gap-3",children:[(0,a.jsx)(l.$,{variant:"secondary",size:"lg",onClick:b,disabled:p,children:(0,a.jsx)(d.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,a.jsx)(l.$,{variant:"primary",size:"lg",onClick:()=>{m()},disabled:!g,loading:p,children:(0,a.jsx)(d.A,{defaultMessage:"Continue",id:"acrOozm08x"})})]})]})})});m.displayName="HipaaAttestationModal"},0x1950735db:(e,t,s)=>{s.d(t,{O:()=>i,y:()=>r});var a=s(0x22102fd88),n=s(0x2252bfeb8),l=s(0xfc89b4a4);let i=(0,l.createContext)(void 0),r=e=>{let{children:t}=e,[s,r]=(0,l.useState)([]),[o,d]=(0,l.useState)(!0),[c,u]=(0,l.useState)(!1),[m,x]=(0,l.useState)(null),[f,p]=(0,l.useState)(!0),[h,g]=(0,l.useState)(!0),v=(0,l.useCallback)(async()=>{try{var e;d(!0),x(null);let t=await (null===n.Fd||void 0===n.Fd||null==(e=n.Fd.getInstalledExtensionsWithState)?void 0:e.call(n.Fd));t&&r(t),u(!0)}catch(e){x(e instanceof Error?e.message:"Failed to load extensions")}finally{d(!1)}},[]),b=(0,l.useCallback)(async(e,t)=>{try{var s;await (null===n.Fd||void 0===n.Fd||null==(s=n.Fd.setExtensionSettings)?void 0:s.call(n.Fd,e,t)),r(s=>s.map(s=>s.id===e?{...s,settings:{...s.settings,...t}}:s))}catch(e){x(e instanceof Error?e.message:"Failed to update extension settings"),await v()}},[v]),y=(0,l.useCallback)(async e=>{try{var t;await (null===n.Fd||void 0===n.Fd||null==(t=n.Fd.deleteExtension)?void 0:t.call(n.Fd,e)),r(t=>t.filter(t=>t.id!==e))}catch(e){x(e instanceof Error?e.message:"Failed to delete extension"),await v()}},[v]);(0,l.useEffect)(()=>{var e,t,s,a;v(),null===n.Fd||void 0===n.Fd||null==(e=n.Fd.isDirectoryEnabled)||e.call(n.Fd).then(p),null===n.Fd||void 0===n.Fd||null==(t=n.Fd.isExtensionsEnabled)||t.call(n.Fd).then(g);let l=null===n.Fd||void 0===n.Fd||null==(s=n.Fd.onExtensionsChanged)?void 0:s.call(n.Fd,()=>{v()}),i=null===n.Fd||void 0===n.Fd||null==(a=n.Fd.onExtensionSettingsChanged)?void 0:a.call(n.Fd,(e,t)=>{r(s=>s.map(s=>s.id===e?{...s,settings:{...s.settings,...t}}:s))});return()=>{null==l||l(),null==i||i()}},[v]);let j=(0,l.useCallback)(e=>s.find(t=>t.id===e),[s]),w=(0,l.useMemo)(()=>({extensions:s,isLoading:o,hasLoadedOnce:c,error:m,isDirectoryEnabled:f,isExtensionsEnabled:h,setExtensionSettings:b,deleteExtension:y,getExtensionById:j}),[y,m,s,j,f,h,o,b,c]);return(0,a.jsx)(i.Provider,{value:w,children:t})}},0x1b910c896:(e,t,s)=>{function a(){var e,t;return(null==(t=window.process)||null==(e=t.versions)?void 0:e.electron)&&window.process.platform||null}function n(){var e,t;return(null==(t=window.process)||null==(e=t.versions)?void 0:e.electron)&&window.process.version||null}function l(){if("undefined"==typeof navigator)return;let e=navigator.userAgent,t=e.match(/ClaudeNest\/(\d+\.\d+\.\d+)/);if(t)return{build:"ClaudeNest",version:t[1]};let s=e.match(/Claude\/(\d+\.\d+\.\d+)/);if(s)return{build:"Claude",version:s[1]}}s.d(t,{B7:()=>l,k1:()=>n,uV:()=>a})},0x1e1f2a153:(e,t,s)=>{s.d(t,{C:()=>a.C,u:()=>a.u});var a=s(0xc459f9d1)},0x1eb0949d5:(e,t,s)=>{s.d(t,{S:()=>f});var a=s(0x22102fd88),n=s(0x139b5e710),l=s(0x2471dc42f),i=s(0x225bae024),r=s(0x2252bfeb8),o=s(0x4bf5e44c),d=s(0x1ab362a20),c=s(0x88148a10),u=s(0xfc89b4a4),m=s(0x1ab0d1ca1),x=s(0x38e6572);let f=e=>{let{manifest:t,settings:s,onSave:f,onCancel:p,className:h}=e,g=(0,m.A)(),{addError:v}=(0,n.Yf)(),[b,y]=(0,u.useState)({}),[j,w]=(0,u.useState)(!1),[C,N]=(0,u.useState)(!1),[M,k]=(0,u.useState)(!1);if((0,u.useEffect)(()=>{if(s.userConfig)y(s.userConfig);else if(t.user_config){let e={};for(let[s,a]of Object.entries(t.user_config))void 0!==a.default&&(e[s]=a.default);y(e)}},[t.user_config,s.userConfig]),!t.user_config)return null;let A=(e,t)=>{y(s=>({...s,[e]:t})),w(!0)},F=async()=>{N(!0);try{await f(b),w(!1),k(!0),setTimeout(()=>{k(!1)},1e4)}catch(e){v((0,a.jsx)(x.A,{defaultMessage:"Failed to save configuration",id:"k3HNr+oyR6",description:"Error message when extension configuration save fails"}),{error:e})}finally{N(!1)}};return(0,a.jsx)("div",{className:h,children:(0,a.jsxs)("div",{className:"break-inside-avoid",children:[Object.entries(t.user_config).map(e=>{let[t,s]=e;return(0,a.jsx)("div",{className:"mb-5",children:(0,a.jsxs)("label",{children:[(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("span",{className:"text-md",children:s.title}),s.required&&(0,a.jsx)("span",{className:"text-text-400 ml-1",children:(0,a.jsx)(x.A,{defaultMessage:"(Required)",id:"5Q3Kor4lDg",description:"Label indicating a configuration field is required"})})]}),s.description&&"boolean"!==s.type&&(0,a.jsx)("p",{className:"text-xs text-text-400 mt-2 mb-3",children:s.description}),(0,a.jsx)("div",{className:"mb-2 mt-2",children:((e,t)=>{let s=b[e],n="w-full px-3 py-2 border border-border-300/25 rounded-md text-sm text-text-100 bg-bg-100";switch(t.type){case"string":return(0,a.jsx)("input",{type:t.sensitive?"password":"text",value:s||"",onChange:t=>A(e,t.target.value),placeholder:t.description,className:n});case"number":return(0,a.jsx)("input",{type:"number",value:s||"",onChange:t=>A(e,t.target.value?Number(t.target.value):""),min:t.min,max:t.max,placeholder:t.description,className:n});case"boolean":return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.j,{checked:s||!1,onChange:t=>A(e,t.target.checked)}),(0,a.jsx)("span",{className:"text-sm text-text-300",children:t.description})]});case"directory":case"file":if(!t.multiple)return(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)("input",{type:"text",value:s||"",onChange:t=>A(e,t.target.value),placeholder:g.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(n," flex-1 w-auto")}),(0,a.jsx)(i.$,{variant:"secondary",onClick:async()=>{var s,a;let n="directory"===t.type?await (null===r.un||void 0===r.un||null==(s=r.un.getDirectoryPath)?void 0:s.call(r.un,!1)):await (null===r.un||void 0===r.un||null==(a=r.un.getFilePath)?void 0:a.call(r.un,!1));n&&A(e,n[0])},className:"px-3 py-1.5",children:g.formatMessage({defaultMessage:"Browse",id:"0TPgIp3K/q",description:"Button to browse for file/directory"})})]});{let l=s||[];return(0,a.jsxs)("div",{children:[l.map((s,c)=>(0,a.jsxs)("div",{className:"flex gap-2 mb-2 items-center",children:[(0,a.jsx)("input",{type:"text",value:s,onChange:t=>{let s=[...l];s[c]=t.target.value,A(e,s)},placeholder:g.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(n," flex-1 w-auto")}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",onClick:async()=>{var s,a;let n="directory"===t.type?await (null===r.un||void 0===r.un||null==(s=r.un.getDirectoryPath)?void 0:s.call(r.un,!1)):await (null===r.un||void 0===r.un||null==(a=r.un.getFilePath)?void 0:a.call(r.un,!1));if(n){let t=[...l];t[c]=n[0],A(e,t)}},children:(0,a.jsx)(o.sj,{})}),(0,a.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>{A(e,l.filter((e,t)=>t!==c))},children:(0,a.jsx)(d.u,{})})]},c)),(0,a.jsxs)(i.$,{variant:"secondary",onClick:()=>{A(e,[...l,""])},className:"mt-2",children:[(0,a.jsx)(c.c,{className:"mr-1.5",size:16}),g.formatMessage({defaultMessage:"Add {type}",id:"1ddlPuxY71",description:"Button to add a new path"},{type:t.type})]})]})}default:return null}})(t,s)})]})},t)}),(0,a.jsxs)("div",{className:"flex gap-3 mt-6 justify-between items-center",children:[p&&(0,a.jsx)(i.$,{variant:"secondary",onClick:p,disabled:C,children:g.formatMessage({defaultMessage:"Cancel",id:"zVjtFM8JfM",description:"Button to cancel configuration edit"})}),M&&(0,a.jsx)("span",{className:"text-sm text-accent-secondary-100",children:g.formatMessage({defaultMessage:"Changes saved",id:"jdKVJo/vQ6",description:"Message shown after configuration is saved"})}),!M&&(0,a.jsx)("div",{}),(0,a.jsx)(i.$,{variant:"primary",onClick:F,disabled:!j||C,children:g.formatMessage({defaultMessage:"Save",id:"NuymVHsb1A",description:"Button to save configuration"})})]})]})})}},0x25062734b:(e,t,s)=>{s.d(t,{$V:()=>A,uC:()=>w,tg:()=>C,vx:()=>M,L$:()=>P,yr:()=>_,iy:()=>V,kX:()=>k,sb:()=>N,v_:()=>z,Ax:()=>q,M8:()=>E,ko:()=>F,AY:()=>S,es:()=>D}),s(0x21e26ba67);var a=s(0x286b4261),n=s.n(a),l=s(0x17aa9d8d7),i=s(0xf32c56dd),r=s(0x12c9046cd),o=s(0x14de19ae8),d=s(0xc1dd9efc),c=s(0xac309a83),u=s(0x1bd175d8c),m=s(0x78b33fbd),x=s(0xfc89b4a4),f=s(0x14c0dfde7),p=s(0x1d302b010),h=s(0x1417f52d9),g=s(0x9cb4c2a2),v=s(0x1c12b3087),b=s(0xe824fb1c),y=s(0xbdad302d),j=s(0x31c535e9);let w=["allow","ask","blocked"];function C(e){return e.includes(":")}let N=()=>(0,c.fS)("bagel_enabled"),M=()=>{let{account:e,activeOrganization:t}=(0,o.YL)(),s=(0,o.mV)(),a=(0,d.pG)(e,t,"claude-ai"),n=(0,d.yI)(e,t,d.Nt.IntegrationsManage);return!s||a||n},k=()=>{let e=(0,o.zm)(),t=M();return e&&!t},A="mcp_directory_chin",F=function(){var e,t;let{shouldTrack:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,x.useRef)(!1),n=N(),{dismiss:l}=(0,h.W)(),{account:i}=(0,o.YL)(),r=k(),d=new Date,c="".concat(d.getDate(),"-").concat(d.getMonth(),"-").concat(d.getFullYear()),u="".concat(A,"_").concat(c),m=(null!=(t=null==i||null==(e=i.settings.dismissed_claudeai_banners)?void 0:e.map(e=>e.banner_id))?t:[]).filter(e=>e.includes(A)),f=(0,x.useMemo)(()=>!(!n||r||m.includes(A))&&(!(m.length>3)||!m.includes(u)),[r,n,m,u]);return(0,x.useEffect)(()=>{!a.current&&f&&!m.includes(u)&&s&&(l(u),a.current=!0)},[u,m,s,l,f]),f};function _(e){var t;let s=(0,c.fS)("disable_destructive_mcp_tools_by_default"),{getMcpToolApprovalConfigSetting:a}=function(e){let{value:t}=(0,m.useDynamicConfig)("yukon_gold"===e?"tanuki_mcp_tool_approval_config":"mcp_tool_approval_config"),s=(0,x.useCallback)((e,s)=>{var a,n;if(!t||!e)return;let l=[e.url,e.uuid,e.name].map(e=>{var a,n;if(e)return(null==(a=t[e])?void 0:a[null!=s?s:"*"])||(null==(n=t[e])?void 0:n["*"])||void 0}).find(e=>void 0!==e);return void 0!==l?l:s&&(null==(a=t["*"])?void 0:a[s])!==void 0?t["*"][s]:(null==(n=t["*"])?void 0:n["*"])!==void 0?t["*"]["*"]:void 0},[t]);return{toolApprovalConfig:t,getMcpToolApprovalConfigSetting:s}}(e),{account:n}=(0,o.YL)(),l=null==n||null==(t=n.settings)?void 0:t.enabled_mcp_tools;return(0,x.useCallback)((e,t)=>{var n,i;let r=a(e,null==t?void 0:t.name),o=(null==t?void 0:t.alwaysApprovedKey)?null==l?void 0:l[null==t?void 0:t.alwaysApprovedKey]:void 0;return s&&(null==t||null==(n=t.annotations)?void 0:n.destructiveHint)===!0?{approvalRequired:!0,showAlwaysAllowed:!1}:"always"===r?{approvalRequired:!0,showAlwaysAllowed:!1,managedByOrg:!0}:o?{approvalRequired:!1}:"server"===r?{approvalRequired:!1,managedByServer:!0}:"never"===r&&!1!==o||"readOnly"===r&&(null==t||null==(i=t.annotations)?void 0:i.readOnlyHint)===!0&&!1!==o?{approvalRequired:!1}:{approvalRequired:!0,showAlwaysAllowed:!0,managedByOrg:!1,managedByServer:!1}},[s,a,l])}let S=()=>{let e=(0,b.Uz)({type:"local"});return!!(0,u.V)()&&e.length>0},E=()=>{var e,t,s;let a=(0,g.oM)(),n=(null==(e=a.pendingConversationSettings)?void 0:e.compass_mode)==="advanced"||(null==(s=a.conversation)||null==(t=s.conversationSettings)?void 0:t.compass_mode)==="advanced",l=(0,b.Uz)({type:"remote"}).length>0;return n&&l},D=e=>{let t=(0,v.jw)(),{account:s}=(0,o.YL)(),{updateSettings:a}=(0,j.IS)(),{track:r}=(0,i.st)(),{mutate:d}=(0,l.yJ)(),{mutateAsync:c}=(0,y.Z1)();return{toggleMcpToolEnabled:(l,i,o)=>{if(!s)return;let d=Array.isArray(l)?l.reduce((e,t)=>({...e,[t]:i}),{}):{[l]:i};r({event_key:"claudeai.mcp.tool.toggled",conversation_uuid:(null==t?void 0:t.id)||null,setting:l,value:i,url:o,source:null==e?void 0:e.source}),a({mcpToolsUpdate:d}).then(()=>{if(null==t?void 0:t.sessionId)return c({sessionId:t.sessionId})}).catch(n())},toggleMcpToolAlwaysApproved:(e,t)=>{s&&d({enabled_mcp_tools:{...s.settings.enabled_mcp_tools,[e]:t}})}}},z=e=>{let{activeOrganization:t}=(0,o.YL)(),s=null==t?void 0:t.uuid,{data:a}=(0,p.XT)(s,e||"",{enabled:!!e&&!!s});return!!a},q=()=>{let e=(0,f.p9)(),{activeOrganization:t}=(0,o.YL)(),s=null==t?void 0:t.uuid;return(0,r.L2)("/api/organizations/".concat(s,"/mcp/resources"),"POST",{enabled:e&&!!s})};function V(e){let t=_(e);return(e,s)=>t(b.eZ.getState().remoteServers[e],{name:s,alwaysApprovedKey:"",displayName:"",enabledKey:"",inputSchema:{type:"object"}})}function P(e){var t;let s=_(e),{account:a}=(0,o.YL)(),n=null==a||null==(t=a.settings)?void 0:t.enabled_mcp_tools,{value:l}=(0,m.useDynamicConfig)("yukon_silver_tool_perms");return(0,x.useCallback)(e=>{if((null==l?void 0:l[e])==="always_allow")return{permission:"allow",approvalState:{approvalRequired:!1}};let t=(0,b.pK)(e);if(!t)return{permission:"ask",approvalState:{approvalRequired:!0,showAlwaysAllowed:!0}};let{tool:a,server:i}=t;if((null==n?void 0:n[a.enabledKey])===!1)return{permission:"blocked",approvalState:{approvalRequired:!1}};let r=s("remote"===i.type?b.eZ.getState().remoteServers[i.uuid]:void 0,a);return r.approvalRequired?{permission:"ask",approvalState:r}:{permission:"allow",approvalState:r}},[s,n,l])}}}]);